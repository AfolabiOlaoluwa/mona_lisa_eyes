{"version":3,"file":"tf-backend-wasm.min.js","sources":["../src/kernels/types.ts","../src/kernels/_FusedMatMul.ts","../src/kernels/unary_kernel.ts","../src/kernels/binary_kernel.ts","../src/kernels/Abs.ts","../src/kernels/AddN.ts","../src/kernels/ArgMax.ts","../src/kernels/AvgPool.ts","../src/kernels/BatchMatMul.ts","../src/kernels/ClipByValue.ts","../src/kernels/Conv2D.ts","../src/kernels/Cast.ts","../src/kernels/CropAndResize.ts","../src/kernels/DepthwiseConv2dNative.ts","../src/kernels/Add.ts","../src/kernels/Concat.ts","../src/kernels/Cos.ts","../src/kernels/Div.ts","../src/kernels/Exp.ts","../src/kernels/Fill.ts","../src/kernels/FusedBatchNorm.ts","../src/kernels/FusedConv2D.ts","../src/kernels/FusedDepthwiseConv2D.ts","../src/kernels/Gather.ts","../src/kernels/GatherNd.ts","../src/kernels/FloorDiv.ts","../src/kernels/Greater.ts","../src/kernels/GreaterEqual.ts","../src/kernels/Less.ts","../src/kernels/LessEqual.ts","../src/kernels/Log.ts","../src/kernels/Transpose.ts","../src/kernels/Max.ts","../src/kernels/LogicalAnd.ts","../src/kernels/MaxPool.ts","../src/kernels/Min.ts","../src/kernels/Maximum.ts","../src/kernels/Minimum.ts","../src/kernels/NonMaxSuppression_util.ts","../src/kernels/NonMaxSuppressionV3.ts","../src/kernels/NonMaxSuppressionV5.ts","../src/kernels/Muliply.ts","../src/kernels/Neg.ts","../src/kernels/PadV2.ts","../src/kernels/NotEqual.ts","../src/kernels/OnesLike.ts","../src/kernels/Prelu.ts","../src/kernels/ResizeBilinear.ts","../src/kernels/SelectV2.ts","../src/kernels/ScatterNd.ts","../src/kernels/Sigmoid.ts","../src/kernels/Softmax.ts","../src/kernels/Slice.ts","../src/kernels/Pow.ts","../src/kernels/Relu.ts","../src/kernels/Relu6.ts","../src/kernels/Reshape.ts","../src/kernels/Rsqrt.ts","../src/kernels/Sin.ts","../src/kernels/Split.ts","../src/kernels/Sqrt.ts","../src/kernels/Square.ts","../src/kernels/Sum.ts","../src/kernels/Tile.ts","../src/kernels/Sub.ts","../src/kernels/Tanh.ts","../src/kernels/Unpack.ts","../src/kernels/ZerosLike.ts","../src/flags_wasm.ts","../wasm-out/tfjs-backend-wasm-simd.js","../wasm-out/tfjs-backend-wasm.js","../src/backend_wasm.ts","../src/version.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\n// This enum must align with the enum defined in cc/backend.h.\nexport enum CppDType {\n  float32 = 0,\n  int32 = 1,\n  bool = 2,\n  string = 3,\n  complex64 = 4\n}\n\n// Must match enum in cc/fusable_activations.h.\nexport enum FusableActivation {\n  linear = 0,\n  relu = 1,\n  relu6 = 2,\n  prelu = 3\n}\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {FusableActivation} from './types';\n\ninterface FusedMatMulInputs extends NamedTensorInfoMap {\n  a: TensorInfo;\n  b: TensorInfo;\n  bias?: TensorInfo;\n  preluActivationWeights?: TensorInfo;\n}\n\ninterface FusedMatMulAttrs extends NamedAttrMap {\n  transposeA: boolean;\n  transposeB: boolean;\n  activation: FusableActivation;\n}\n\nlet wasmFusedMatMul: (\n    aId: number, aShape: Uint8Array, aShapeSize: number, bId: number,\n    bShape: Uint8Array, bShapeSize: number, transposeA: boolean,\n    transposeB: boolean, activation: number, biasId: number,\n    preluActivationWeightsId: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmFusedMatMul = backend.wasm.cwrap('_FusedMatMul', null /* void */, [\n    'number',  // a_id\n    'array',   // a_shape\n    'number',  // a_shape.length\n    'number',  // b_id\n    'array',   // b_shape\n    'number',  // b_shape.length\n    'number',  // transpose_a\n    'number',  // transpose_b\n    'number',  // activation\n    'number',  // biasId\n    'number',  // preluActivationWeightsId\n    'number'   // out_id\n  ]);\n}\n\nfunction fusedBatchMatMul(args: {\n  inputs: FusedMatMulInputs,\n  backend: BackendWasm,\n  attrs: FusedMatMulAttrs\n}) {\n  const {inputs, backend, attrs} = args;\n  const {a, b, bias, preluActivationWeights} = inputs;\n\n  if (a.dtype !== 'float32' || b.dtype !== 'float32') {\n    throw new Error(\n        `_FusedMatMul for non non-float32 tensors not yet supported.`);\n  }\n\n  const {transposeA, transposeB, activation} = attrs;\n  const aId = backend.dataIdMap.get(a.dataId).id;\n  const bId = backend.dataIdMap.get(b.dataId).id;\n\n  let biasId = 0;\n  if (bias != null) {\n    const biasData = backend.dataIdMap.get(bias.dataId);\n    if (biasData.shape.length !== 1) {\n      throw new Error(\n          `_FusedMatMul only supports rank-1 bias but got ` +\n          `rank ${biasData.shape.length}.`);\n    }\n    biasId = biasData.id;\n  }\n  const preluActivationWeightsId = preluActivationWeights == null ?\n      0 :\n      backend.dataIdMap.get(preluActivationWeights.dataId).id;\n  const fusedActivation =\n      FusableActivation[activation as {} as keyof typeof FusableActivation];\n  if (fusedActivation == null) {\n    throw new Error(\n        `${activation} activation not yet supported for FusedConv2D ` +\n        `in the wasm backend.`);\n  }\n\n  const leftDim = transposeA ? a.shape[2] : a.shape[1];\n  const rightDim = transposeB ? b.shape[1] : b.shape[2];\n  const batchDim = a.shape[0];\n\n  const out = backend.makeOutput([batchDim, leftDim, rightDim], a.dtype);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  const aShapeBytes = new Uint8Array(new Int32Array(a.shape).buffer);\n  const bShapeBytes = new Uint8Array(new Int32Array(b.shape).buffer);\n\n  wasmFusedMatMul(\n      aId, aShapeBytes, a.shape.length, bId, bShapeBytes, b.shape.length,\n      transposeA, transposeB, fusedActivation, biasId, preluActivationWeightsId,\n      outId);\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: '_FusedMatMul',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: fusedBatchMatMul\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface UnaryInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\nexport function registerUnaryKernel(kernelName: string) {\n  let wasmFunc: (xId: number, outId: number) => void;\n\n  function setupFunc(backend: BackendWasm): void {\n    wasmFunc =\n        backend.wasm.cwrap(kernelName, null /* void */, ['number', 'number']);\n  }\n\n  function kernelFunc(args: {backend: BackendWasm, inputs: UnaryInputs}):\n      TensorInfo {\n    const {backend, inputs: {x}} = args;\n    const xId = backend.dataIdMap.get(x.dataId).id;\n    const out = backend.makeOutput(x.shape, x.dtype);\n    const outId = backend.dataIdMap.get(out.dataId).id;\n\n    // Short-circuit zero-sized tensors.\n    if (util.sizeFromShape(out.shape) === 0) {\n      return out;\n    }\n\n    wasmFunc(xId, outId);\n    return out;\n  }\n\n  registerKernel({kernelName, backendName: 'wasm', setupFunc, kernelFunc});\n}\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, DataType, NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {CppDType} from './types';\n\nexport function registerBinaryKernel(\n    kernelName: string, supportsFullBroadcast: boolean, dtype?: DataType) {\n  let wasmFunc:\n      (aId: number, aShape: Uint8Array, aShapeLen: number, bId: number,\n       bShape: Uint8Array, bShapeLen: number, dtype: number, outId: number) =>\n          void;\n\n  function setupFunc(backend: BackendWasm): void {\n    wasmFunc = backend.wasm.cwrap(kernelName, null /* void */, [\n      'number',  // a_id,\n      'array',   // a_shape\n      'number',  // a_shape.length\n      'number',  // b_id\n      'array',   // b_shape\n      'number',  // b_shape.length\n      'number',  // dtype\n      'number'   // out_id\n    ]);\n  }\n\n  function kernelFunc(args: {backend: BackendWasm, inputs: BinaryInputs}):\n      TensorInfo {\n    const {backend, inputs} = args;\n    const {a, b} = inputs;\n    const aId = backend.dataIdMap.get(a.dataId).id;\n    const bId = backend.dataIdMap.get(b.dataId).id;\n\n    const outputType = dtype != null ? dtype : a.dtype;\n    const newShape = backend_util.assertAndGetBroadcastShape(a.shape, b.shape);\n    const out = backend.makeOutput(newShape, outputType);\n\n    // Short-circuit zero-sized tensors.\n    if (util.sizeFromShape(newShape) === 0) {\n      return out;\n    }\n\n    const aShapeBytes = new Uint8Array(new Int32Array(a.shape).buffer);\n    const bShapeBytes = new Uint8Array(new Int32Array(b.shape).buffer);\n    const outId = backend.dataIdMap.get(out.dataId).id;\n    const kernelFunc = () => wasmFunc(\n        aId, aShapeBytes, a.shape.length, bId, bShapeBytes, b.shape.length,\n        CppDType[a.dtype], outId);\n\n    if (supportsFullBroadcast) {\n      kernelFunc();\n      return out;\n    }\n\n    const aBroadcastDims = backend_util.getBroadcastDims(a.shape, newShape);\n    const bBroadcastDims = backend_util.getBroadcastDims(b.shape, newShape);\n    const loopsOverAllOfA = aBroadcastDims.every((v, i) => v === i);\n    const loopsOverAllOfB = bBroadcastDims.every((v, i) => v === i);\n    if (loopsOverAllOfA && loopsOverAllOfB) {\n      kernelFunc();\n      return out;\n    } else {\n      throw new Error(\n          `Broadcasting along outer dims is not yet ` +\n          `supported for ${kernelName}.`);\n    }\n  }\n\n  registerKernel({kernelName, backendName: 'wasm', setupFunc, kernelFunc});\n}\n\ninterface BinaryInputs extends NamedTensorInfoMap {\n  a: TensorInfo;\n  b: TensorInfo;\n}\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Abs');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {KernelFunc, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {CppDType} from './types';\n\nlet wasmFunc:\n    (inputIds: Uint8Array, inputIdsLen: number, dtype: number, outId: number) =>\n        void;\n\nfunction setupFunc(backend: BackendWasm): void {\n  wasmFunc = backend.wasm.cwrap('AddN', null /* void */, [\n    'array',   // input_ids\n    'number',  // input_ids.length\n    'number',  // dtype\n    'number',  // out_id\n  ]);\n}\n\nfunction addn(args: {inputs: TensorInfo[], backend: BackendWasm}) {\n  const {inputs, backend} = args;\n  const out = backend.makeOutput(inputs[0].shape, inputs[0].dtype);\n\n  // Short-circuit zero-sized tensors.\n  if (util.sizeFromShape(out.shape) === 0) {\n    return out;\n  }\n\n  const inputIds = inputs.map(x => backend.dataIdMap.get(x.dataId).id);\n  const inputIdsBytes = new Uint8Array(new Int32Array(inputIds).buffer);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmFunc(inputIdsBytes, inputIds.length, CppDType[out.dtype], outId);\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'AddN',\n  backendName: 'wasm',\n  setupFunc,\n  kernelFunc: addn as {} as KernelFunc,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {KernelFunc, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {CppDType} from './types';\n\ninterface ArgMaxInputs {\n  x: TensorInfo;\n}\n\ninterface ArgMaxAttrs {\n  axis: number;\n}\n\nlet wasmFunc: (\n    xId: number, dtype: number, outerSize: number, innerSize: number,\n    outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmFunc = backend.wasm.cwrap('ArgMax', null /* void */, [\n    'number',  // x_id\n    'number',  // dtype\n    'number',  // outer_size\n    'number',  // inner_size\n    'number'   // out_id\n  ]);\n}\n\nfunction argmax(\n    args: {inputs: ArgMaxInputs, backend: BackendWasm, attrs: ArgMaxAttrs}) {\n  const {inputs: {x}, backend, attrs: {axis}} = args;\n  const outShape = x.shape.slice(0, -1);\n  const out = backend.makeOutput(outShape, 'int32');\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  const outerSize = util.sizeFromShape(out.shape);\n  const innerSize = x.shape[axis];\n  wasmFunc(xId, CppDType[x.dtype], outerSize, innerSize, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'ArgMax',\n  backendName: 'wasm',\n  kernelFunc: argmax as {} as KernelFunc,\n  setupFunc: setup\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {AvgPoolAttrs, AvgPoolInputs, backend_util, KernelFunc, registerKernel, Tensor4D} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nlet wasmAvgPool: (\n    xId: number, batchSize: number, inputHeight: number, inputWidth: number,\n    filterHeight: number, filterWidth: number, padTop: number, padRight: number,\n    padBottom: number, padLeft: number, strideHeight: number,\n    strideWidth: number, channels: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmAvgPool = backend.wasm.cwrap('AvgPool', null /* void */, [\n    'number',  // xId\n    'number',  // batchSize\n    'number',  // inputHeight\n    'number',  // inputWidth\n    'number',  // filterHeight\n    'number',  // filterWidth\n    'number',  // padTop\n    'number',  // padRight\n    'number',  // padBottom\n    'number',  // padLeft\n    'number',  // strideHeight\n    'number',  // strideWidth\n    'number',  // channels\n    'number',  // outId\n  ]);\n}\n\nfunction avgPool(\n    args: {inputs: AvgPoolInputs, backend: BackendWasm, attrs: AvgPoolAttrs}) {\n  const {inputs, attrs, backend} = args;\n\n  const x = inputs.x as Tensor4D;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n\n  const {filterSize, strides, pad, dimRoundingMode} = attrs;\n  const convInfo = backend_util.computePool2DInfo(\n      x.shape, filterSize, strides, 1 /* dilations */, pad, dimRoundingMode);\n\n  const filterHeight = convInfo.filterHeight;\n  const filterWidth = convInfo.filterWidth;\n  const padTop = convInfo.padInfo.top;\n  const padRight = convInfo.padInfo.right;\n  const padBottom = convInfo.padInfo.bottom;\n  const padLeft = convInfo.padInfo.left;\n  const strideHeight = convInfo.strideHeight;\n  const strideWidth = convInfo.strideWidth;\n  const channels = convInfo.inChannels;\n\n  if (convInfo.dataFormat !== 'channelsLast') {\n    throw new Error(\n        `wasm backend does not support dataFormat:'` +\n        `${convInfo.dataFormat}'. Please use 'channelsLast'.`);\n  }\n\n  if (convInfo.dilationWidth !== 1 || convInfo.dilationHeight !== 1) {\n    throw new Error(\n        `was backend only supports average pooling with dilation = [1, 1], ` +\n        `got [${convInfo.dilationHeight}, ${convInfo.dilationWidth}].`);\n  }\n\n  const out = backend.makeOutput(convInfo.outShape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  wasmAvgPool(\n      xId, x.shape[0], x.shape[1], x.shape[2], filterHeight, filterWidth,\n      padTop, padRight, padBottom, padLeft, strideHeight, strideWidth, channels,\n      outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'AvgPool',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: avgPool as {} as KernelFunc\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface BatchMatMulInputs extends NamedTensorInfoMap {\n  a: TensorInfo;\n  b: TensorInfo;\n}\n\ninterface BatchMatMulAttrs extends NamedAttrMap {\n  transposeA: boolean;\n  transposeB: boolean;\n}\n\nlet wasmBatchMatMul: (\n    aId: number, aShape: Uint8Array, aShapeSize: number, bId: number,\n    bShape: Uint8Array, bShapeSize: number, transposeA: boolean,\n    transposeB: boolean, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmBatchMatMul = backend.wasm.cwrap('BatchMatMul', null /* void */, [\n    'number',  // a_id\n    'array',   // a_shape\n    'number',  // a_shape.length\n    'number',  // b_id\n    'array',   // b_shape\n    'number',  // b_shape.length\n    'number',  // transpose_a\n    'number',  // transpose_b\n    'number'   // out_id\n  ]);\n}\n\nfunction batchMatMul(args: {\n  inputs: BatchMatMulInputs,\n  backend: BackendWasm,\n  attrs: BatchMatMulAttrs\n}) {\n  const {inputs, backend, attrs} = args;\n  const {a, b} = inputs;\n\n  if (a.dtype !== 'float32' || b.dtype !== 'float32') {\n    throw new Error(\n        `BatchMatMul for non non-float32 tensors not yet supported.`);\n  }\n\n  const {transposeA, transposeB} = attrs;\n  const aId = backend.dataIdMap.get(a.dataId).id;\n  const bId = backend.dataIdMap.get(b.dataId).id;\n\n  const leftDim = transposeA ? a.shape[2] : a.shape[1];\n  const rightDim = transposeB ? b.shape[1] : b.shape[2];\n  const batchDim = a.shape[0];\n\n  const out = backend.makeOutput([batchDim, leftDim, rightDim], a.dtype);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  const aShapeBytes = new Uint8Array(new Int32Array(a.shape).buffer);\n  const bShapeBytes = new Uint8Array(new Int32Array(b.shape).buffer);\n\n  wasmBatchMatMul(\n      aId, aShapeBytes, a.shape.length, bId, bShapeBytes, b.shape.length,\n      transposeA, transposeB, outId);\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'BatchMatMul',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: batchMatMul\n});\n","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel} from '@tensorflow/tfjs-core';\nimport {TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface ClipByValueInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface ClipByValueAttrs extends NamedAttrMap {\n  min: number;\n  max: number;\n}\n\nlet wasmClip: (xId: number, min: number, max: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmClip = backend.wasm.cwrap('ClipByValue', null /* void */, [\n    'number',  // x_id\n    'number',  // min\n    'number',  // max\n    'number'   // out_id\n  ]);\n}\n\nfunction clip(args: {\n  inputs: ClipByValueInputs,\n  backend: BackendWasm,\n  attrs: ClipByValueAttrs\n}) {\n  const {inputs, backend, attrs} = args;\n  const {x} = inputs;\n  const {min, max} = attrs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const out = backend.makeOutput(x.shape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmClip(xId, min, max, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'ClipByValue',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: clip\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, Conv2DAttrs, KernelFunc, NamedTensorInfoMap, registerKernel, Tensor4D, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface Conv2DInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n  filter: TensorInfo;\n}\n\nlet wasmConv2d: (\n    xId: number, batchSize: number, inputHeight: number, inputWidth: number,\n    filterId: number, filterHeight: number, filterWidth: number, padTop: number,\n    padRight: number, padBottom: number, padLeft: number, isSamePad: number,\n    dilationHeight: number, dilationWidth: number, strideHeight: number,\n    strideWidth: number, inputChannels: number, outputChannels: number,\n    outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmConv2d = backend.wasm.cwrap('Conv2D', null /* void */, [\n    'number',  // xId\n    'number',  // batchSize\n    'number',  // inputHeight\n    'number',  // inputWidth\n    'number',  // filterId\n    'number',  // filterHeight\n    'number',  // filterWidth\n    'number',  // padTop\n    'number',  // padRight\n    'number',  // padBottom\n    'number',  // padLeft\n    'number',  // isSamePad\n    'number',  // dilationHeight\n    'number',  // dilationWidth\n    'number',  // strideHeight\n    'number',  // strideWidth\n    'number',  // inputChannels\n    'number',  // outputChannels\n    'number',  // outId\n  ]);\n}\n\nfunction conv2d(\n    args: {inputs: Conv2DInputs, backend: BackendWasm, attrs: Conv2DAttrs}) {\n  const {inputs, attrs, backend} = args;\n\n  const {x, filter} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const filterId = backend.dataIdMap.get(filter.dataId).id;\n\n  const {strides, dilations, pad, dimRoundingMode, dataFormat} = attrs;\n  const $dataFormat = backend_util.convertConv2DDataFormat(dataFormat);\n  const convInfo = backend_util.computeConv2DInfo(\n      (x as Tensor4D).shape, (filter as Tensor4D).shape, strides, dilations,\n      pad, dimRoundingMode, false, $dataFormat);\n\n  const filterHeight = convInfo.filterHeight;\n  const filterWidth = convInfo.filterWidth;\n  const padTop = convInfo.padInfo.top;\n  const padRight = convInfo.padInfo.right;\n  const padBottom = convInfo.padInfo.bottom;\n  const padLeft = convInfo.padInfo.left;\n  const dilationHeight = convInfo.dilationHeight;\n  const dilationWidth = convInfo.dilationWidth;\n  const strideHeight = convInfo.strideHeight;\n  const strideWidth = convInfo.strideWidth;\n  const inputChannels = convInfo.inChannels;\n  const outputChannels = convInfo.outChannels;\n  const isSamePad = convInfo.padInfo.type === 'SAME' ? 1 : 0;\n\n  if (convInfo.dataFormat !== 'channelsLast') {\n    throw new Error(\n        `wasm backend Conv2D does not support dataFormat:'` +\n        `${convInfo.dataFormat}'. Please use 'channelsLast'.`);\n  }\n\n  const out = backend.makeOutput(convInfo.outShape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmConv2d(\n      xId, x.shape[0], x.shape[1], x.shape[2], filterId, filterHeight,\n      filterWidth, padTop, padRight, padBottom, padLeft, isSamePad,\n      dilationHeight, dilationWidth, strideHeight, strideWidth, inputChannels,\n      outputChannels, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Conv2D',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: conv2d as {} as KernelFunc\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {DataType, NamedAttrMap, NamedTensorInfoMap, registerKernel} from '@tensorflow/tfjs-core';\nimport {TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface CastInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface CastAttrs extends NamedAttrMap {\n  dtype: DataType;\n}\n\nexport function cast(\n    args: {inputs: CastInputs, attrs: CastAttrs, backend: BackendWasm}):\n    TensorInfo {\n  const {inputs: {x}, attrs: {dtype}, backend} = args;\n  const out = backend.makeOutput(x.shape, dtype);\n  const inVals = backend.typedArrayFromHeap(x);\n  const outVals = backend.typedArrayFromHeap(out);\n  outVals.set(inVals);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Cast',\n  backendName: 'wasm',\n  kernelFunc: cast,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {cast} from './Cast';\n\ninterface CropAndResizeInputs extends NamedTensorInfoMap {\n  images: TensorInfo;\n  boxes: TensorInfo;\n  boxInd: TensorInfo;\n}\n\ninterface CropAndResizeAttrs extends NamedAttrMap {\n  method: keyof InterpolationMethod;\n  extrapolationValue: number;\n  cropSize: [number, number];\n}\n\n// Must match enum in CropAndResize.cc\nenum InterpolationMethod {\n  bilinear = 0,\n  nearest = 1\n}\n\nlet wasmCropAndResize: (\n    imagesId: number, boxesId: number, boxIndId: number, numBoxes: number,\n    imagesShape: Uint8Array, cropHeight: number, cropWidth: number,\n    method: number, extrapolationValue: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmCropAndResize = backend.wasm.cwrap('CropAndResize', null /*void*/, [\n    'number',  // imagesId\n    'number',  // boxesId\n    'number',  // boxIndId\n    'number',  // numBoxes\n    'array',   // images shape\n    'number',  // cropHeight\n    'number',  // cropWidth\n    'number',  // method\n    'number',  // extrapolation value\n    'number'   // out id\n  ]);\n}\n\nfunction cropAndResize(args: {\n  backend: BackendWasm,\n  inputs: CropAndResizeInputs,\n  attrs: CropAndResizeAttrs\n}): TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {method, extrapolationValue, cropSize} = attrs;\n  const {images, boxes, boxInd} = inputs;\n\n  const numBoxes = boxes.shape[0];\n\n  const [cropHeight, cropWidth] = cropSize as [number, number];\n  const outShape = [numBoxes, cropHeight, cropWidth, images.shape[3]];\n\n  let imagesData = backend.dataIdMap.get(images.dataId);\n  let castedData;\n  if (images.dtype !== 'float32') {\n    castedData =\n        cast({backend, inputs: {x: images}, attrs: {dtype: 'float32'}});\n    imagesData = backend.dataIdMap.get(castedData.dataId);\n  }\n\n  const imagesId = imagesData.id;\n  const boxesId = backend.dataIdMap.get(boxes.dataId).id;\n  const boxIndId = backend.dataIdMap.get(boxInd.dataId).id;\n\n  const out = backend.makeOutput(outShape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  const imagesShapeBytes = new Uint8Array(new Int32Array(images.shape).buffer);\n\n  wasmCropAndResize(\n      imagesId, boxesId, boxIndId, numBoxes, imagesShapeBytes, cropHeight,\n      cropWidth,\n      InterpolationMethod[method as {} as keyof typeof InterpolationMethod],\n      extrapolationValue, outId);\n\n  if (castedData != null) {\n    backend.disposeData(castedData.dataId);\n  }\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'CropAndResize',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: cropAndResize\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, DepthwiseConv2dNativeAttrs, KernelFunc, NamedTensorInfoMap, registerKernel, Tensor4D, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface DepthwiseConv2DInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n  filter: TensorInfo;\n}\n\nlet wasmDepthwiseConv2d: (\n    xId: number, batchSize: number, inputHeight: number, inputWidth: number,\n    filterId: number, filterHeight: number, filterWidth: number, padTop: number,\n    padRight: number, padBottom: number, padLeft: number, isSamePad: number,\n    dilationHeight: number, dilationWidth: number, strideHeight: number,\n    strideWidth: number, inputChannels: number, outputChannels: number,\n    outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmDepthwiseConv2d =\n      backend.wasm.cwrap('DepthwiseConv2dNative', null /* void */, [\n        'number',  // xId\n        'number',  // batchSize\n        'number',  // inputHeight\n        'number',  // inputWidth\n        'number',  // filterId\n        'number',  // filterHeight\n        'number',  // filterWidth\n        'number',  // padTop\n        'number',  // padRight\n        'number',  // padBottom\n        'number',  // padLeft\n        'number',  // isSamePad\n        'number',  // dilationHeight\n        'number',  // dilationWidth\n        'number',  // strideHeight\n        'number',  // strideWidth\n        'number',  // inputChannels\n        'number',  // outputChannels\n        'number',  // outId\n      ]);\n}\n\nfunction depthwiseConv2d(args: {\n  inputs: DepthwiseConv2DInputs,\n  backend: BackendWasm,\n  attrs: DepthwiseConv2dNativeAttrs\n}) {\n  const {inputs, attrs, backend} = args;\n\n  const {x, filter} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const filterId = backend.dataIdMap.get(filter.dataId).id;\n\n  const {strides, dilations, pad, dimRoundingMode} = attrs;\n\n  const $dilations = dilations == null ? [1, 1] : dilations;\n\n  const convInfo = backend_util.computeConv2DInfo(\n      (x as Tensor4D).shape, (filter as Tensor4D).shape, strides,\n      ($dilations as number | [number, number]), pad, dimRoundingMode,\n      true /* depthwise */);\n\n  const filterHeight = convInfo.filterHeight;\n  const filterWidth = convInfo.filterWidth;\n  const padTop = convInfo.padInfo.top;\n  const padRight = convInfo.padInfo.right;\n  const padBottom = convInfo.padInfo.bottom;\n  const padLeft = convInfo.padInfo.left;\n  const dilationHeight = convInfo.dilationHeight;\n  const dilationWidth = convInfo.dilationWidth;\n  const strideHeight = convInfo.strideHeight;\n  const strideWidth = convInfo.strideWidth;\n  const inputChannels = convInfo.inChannels;\n  const outputChannels = convInfo.outChannels;\n  const isSamePad = convInfo.padInfo.type === 'SAME' ? 1 : 0;\n\n  if (convInfo.dataFormat !== 'channelsLast') {\n    throw new Error(\n        `wasm backend DepthwiseConv2dNative does not support dataFormat:'` +\n        `${convInfo.dataFormat}'. Please use 'channelsLast'.`);\n  }\n\n  const out = backend.makeOutput(convInfo.outShape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmDepthwiseConv2d(\n      xId, x.shape[0], x.shape[1], x.shape[2], filterId, filterHeight,\n      filterWidth, padTop, padRight, padBottom, padLeft, isSamePad,\n      dilationHeight, dilationWidth, strideHeight, strideWidth, inputChannels,\n      outputChannels, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'DepthwiseConv2dNative',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: depthwiseConv2d as {} as KernelFunc\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = true;\nregisterBinaryKernel('Add', supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, KernelFunc, NamedAttrMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface ConcatAttrs extends NamedAttrMap {\n  axis: number;\n}\n\nfunction concat(\n    args: {inputs: TensorInfo[], backend: BackendWasm, attrs: ConcatAttrs}) {\n  const {inputs, backend} = args;\n\n  const axis = util.parseAxisParam(args.attrs.axis, inputs[0].shape)[0];\n\n  const outShape = backend_util.computeOutShape(inputs.map(t => t.shape), axis);\n  const out = backend.makeOutput(outShape, inputs[0].dtype);\n\n  const batchDim = util.sizeFromShape(inputs[0].shape.slice(0, axis));\n  let sumInnerDims = 0;\n  const innerDims = inputs.map(input => {\n    const innerDim = util.sizeFromShape(input.shape.slice(axis));\n    sumInnerDims += innerDim;\n    return innerDim;\n  });\n  const inVals = inputs.map(input => backend.typedArrayFromHeap(input));\n  const outVals = backend.typedArrayFromHeap(out);\n  for (let b = 0; b < batchDim; b++) {\n    let outOffset = b * sumInnerDims;\n    for (let i = 0; i < inVals.length; i++) {\n      const innerDim = innerDims[i];\n      const inOffset = b * innerDim;\n      const vals = inVals[i].subarray(inOffset, inOffset + innerDim);\n      outVals.set(vals, outOffset);\n      outOffset += innerDim;\n    }\n  }\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Concat',\n  backendName: 'wasm',\n  kernelFunc: concat as {} as KernelFunc,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Cos');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('Div', supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Exp');\n","/**\n * @license\n * Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {KernelFunc, registerKernel} from '@tensorflow/tfjs-core';\nimport {Fill, FillAttrs} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nfunction fill(args: {attrs: FillAttrs, backend: BackendWasm}) {\n  const {attrs: {shape, value, dtype}, backend} = args;\n  const out = backend.makeOutput(shape, dtype);\n  const outVals = backend.typedArrayFromHeap(out);\n  outVals.fill(value as number);\n  return out;\n}\n\nregisterKernel({\n  kernelName: Fill,\n  backendName: 'wasm',\n  kernelFunc: fill as {} as KernelFunc,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface BatchNormInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n  mean: TensorInfo;\n  variance: TensorInfo;\n  offset: TensorInfo;\n  scale: TensorInfo;\n}\n\ninterface BatchNormAttrs extends NamedAttrMap {\n  varianceEpsilon: number;\n}\n\nlet wasmBatchNorm: (\n  xId: number, meanId: number, varianceId: number, offsetId: number,\n  scaleId: number, varianceEpsilon: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmBatchNorm = backend.wasm.cwrap(\n    'FusedBatchNorm', null /* void */,\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number']);\n}\n\nfunction fusedBatchNorm(\n  args:\n    {backend: BackendWasm, inputs: BatchNormInputs, attrs: BatchNormAttrs}):\n  TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {varianceEpsilon} = attrs;\n  const {x, mean, variance, offset, scale} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const meanId = backend.dataIdMap.get(mean.dataId).id;\n  const varianceId = backend.dataIdMap.get(variance.dataId).id;\n  const offsetId = offset != null ? backend.dataIdMap.get(offset.dataId).id : 0;\n  const scaleId = scale != null ? backend.dataIdMap.get(scale.dataId).id : 0;\n\n  const out = backend.makeOutput(x.shape, x.dtype);\n  // Short-circuit zero-sized tensors.\n  if (util.sizeFromShape(x.shape) === 0) {\n    return out;\n  }\n\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  wasmBatchNorm(\n    xId, meanId, varianceId, offsetId, scaleId, varianceEpsilon, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'FusedBatchNorm',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: fusedBatchNorm\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, KernelFunc, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {FusableActivation} from './types';\n\ninterface FusedConv2DInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n  filter: TensorInfo;\n  bias?: TensorInfo;\n}\n\nlet wasmFusedConv2d: (\n    xId: number, batchSize: number, inputHeight: number, inputWidth: number,\n    filterId: number, filterHeight: number, filterWidth: number, biasId: number,\n    padTop: number, padRight: number, padBottom: number, padLeft: number,\n    isSamePad: number, dilationHeight: number, dilationWidth: number,\n    strideHeight: number, strideWidth: number, inputChannels: number,\n    outputChannels: number, activation: number,\n    preluActivationWeightsId: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmFusedConv2d = backend.wasm.cwrap('FusedConv2D', null /* void */, [\n    'number',  // xId\n    'number',  // batchSize\n    'number',  // inputHeight\n    'number',  // inputWidth\n    'number',  // filterId\n    'number',  // filterHeight\n    'number',  // filterWidth\n    'number',  // biasId\n    'number',  // padTop\n    'number',  // padRight\n    'number',  // padBottom\n    'number',  // padLeft\n    'number',  // isSamePad\n    'number',  // dilationHeight\n    'number',  // dilationWidth\n    'number',  // strideHeight\n    'number',  // strideWidth\n    'number',  // inputChannels\n    'number',  // outputChannels\n    'number',  // activation\n    'number',  // preluActivationWeightsId\n    'number',  // outId\n  ]);\n}\n\nfunction fusedConv2d(args: {\n  inputs: FusedConv2DInputs,\n  backend: BackendWasm,\n  attrs:\n      {convInfo: backend_util.Conv2DInfo, activation: backend_util.Activation}\n}) {\n  const {inputs, attrs, backend} = args;\n  const {convInfo, activation} = attrs;\n  const fusedActivation =\n      FusableActivation[activation as {} as keyof typeof FusableActivation];\n  if (fusedActivation == null) {\n    throw new Error(\n        `${activation} activation not yet supported for FusedConv2D ` +\n        `in the wasm backend.`);\n  }\n\n  const {x, filter, bias, preluActivationWeights} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const filterId = backend.dataIdMap.get(filter.dataId).id;\n\n  const outputChannels = convInfo.outChannels;\n\n  let biasId = 0;\n  if (bias != null) {\n    const biasData = backend.dataIdMap.get(bias.dataId);\n    if (biasData.shape.length !== 1) {\n      throw new Error(\n          `FusedConv2D only supports rank-1 bias but got ` +\n          `rank ${biasData.shape.length}.`);\n    }\n    if (biasData.shape[0] !== outputChannels) {\n      throw new Error(\n          `FusedConv2D bias shape (${biasData.shape}) does not ` +\n          `match the number of output channels (${outputChannels})`);\n    }\n    biasId = biasData.id;\n  }\n\n  const filterHeight = convInfo.filterHeight;\n  const filterWidth = convInfo.filterWidth;\n  const padTop = convInfo.padInfo.top;\n  const padRight = convInfo.padInfo.right;\n  const padBottom = convInfo.padInfo.bottom;\n  const padLeft = convInfo.padInfo.left;\n  const dilationHeight = convInfo.dilationHeight;\n  const dilationWidth = convInfo.dilationWidth;\n  const strideHeight = convInfo.strideHeight;\n  const strideWidth = convInfo.strideWidth;\n  const inputChannels = convInfo.inChannels;\n  const isSamePad = convInfo.padInfo.type === 'SAME' ? 1 : 0;\n  const batchSize = convInfo.batchSize;\n  const inHeight = convInfo.inHeight;\n  const inWidth = convInfo.inWidth;\n\n  if (convInfo.dataFormat !== 'channelsLast') {\n    throw new Error(\n        `wasm backend FusedConv2D does not support dataFormat:'` +\n        `${convInfo.dataFormat}'. Please use 'channelsLast'.`);\n  }\n\n  const out = backend.makeOutput(convInfo.outShape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  const preluActivationWeightsId = preluActivationWeights == null ?\n      0 :\n      backend.dataIdMap.get(preluActivationWeights.dataId).id;\n  wasmFusedConv2d(\n      xId, batchSize, inHeight, inWidth, filterId, filterHeight, filterWidth,\n      biasId, padTop, padRight, padBottom, padLeft, isSamePad, dilationHeight,\n      dilationWidth, strideHeight, strideWidth, inputChannels, outputChannels,\n      fusedActivation, preluActivationWeightsId, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'FusedConv2D',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: fusedConv2d as {} as KernelFunc\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, KernelFunc, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {FusableActivation} from './types';\n\ninterface FusedDepthwiseConv2DInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n  filter: TensorInfo;\n  bias?: TensorInfo;\n}\n\nlet wasmFusedDepthwiseConv2d: (\n    xId: number, batchSize: number, inputHeight: number, inputWidth: number,\n    filterId: number, filterHeight: number, filterWidth: number, biasId: number,\n    padTop: number, padRight: number, padBottom: number, padLeft: number,\n    isSamePad: number, dilationHeight: number, dilationWidth: number,\n    strideHeight: number, strideWidth: number, inputChannels: number,\n    outputChannels: number, activation: number,\n    preluActivationWeightsId: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmFusedDepthwiseConv2d =\n      backend.wasm.cwrap('FusedDepthwiseConv2D', null /* void */, [\n        'number',  // xId\n        'number',  // batchSize\n        'number',  // inputHeight\n        'number',  // inputWidth\n        'number',  // filterId\n        'number',  // filterHeight\n        'number',  // filterWidth\n        'number',  // biasId\n        'number',  // padTop\n        'number',  // padRight\n        'number',  // padBottom\n        'number',  // padLeft\n        'number',  // isSamePad\n        'number',  // dilationHeight\n        'number',  // dilationWidth\n        'number',  // strideHeight\n        'number',  // strideWidth\n        'number',  // inputChannels\n        'number',  // outputChannels\n        'number',  // activation\n        'number',  // preluActivationWeightsId\n        'number',  // outId\n      ]);\n}\n\nfunction fusedDepthwiseConv2d(args: {\n  inputs: FusedDepthwiseConv2DInputs,\n  backend: BackendWasm,\n  attrs:\n      {convInfo: backend_util.Conv2DInfo, activation: backend_util.Activation}\n}) {\n  const {inputs, attrs, backend} = args;\n  const {convInfo, activation} = attrs;\n  const fusedActivation =\n      FusableActivation[activation as {} as keyof typeof FusableActivation];\n  if (fusedActivation == null) {\n    throw new Error(\n        `${activation} activation not yet supported for FusedDepthwiseConv2D ` +\n        `in the wasm backend.`);\n  }\n\n  const {x, filter, bias, preluActivationWeights} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const filterId = backend.dataIdMap.get(filter.dataId).id;\n\n  const outputChannels = convInfo.outChannels;\n\n  let biasId = 0;\n  if (bias != null) {\n    const biasData = backend.dataIdMap.get(bias.dataId);\n    if (biasData.shape.length !== 1) {\n      throw new Error(\n          `FusedDepthwiseConv2D only supports rank-1 bias but got ` +\n          `rank ${biasData.shape.length}.`);\n    }\n    if (biasData.shape[0] !== outputChannels) {\n      throw new Error(\n          `FusedDepthwiseConv2D bias shape (${biasData.shape}) does not ` +\n          `match the number of output channels (${outputChannels})`);\n    }\n    biasId = biasData.id;\n  }\n\n  const filterHeight = convInfo.filterHeight;\n  const filterWidth = convInfo.filterWidth;\n  const padTop = convInfo.padInfo.top;\n  const padRight = convInfo.padInfo.right;\n  const padBottom = convInfo.padInfo.bottom;\n  const padLeft = convInfo.padInfo.left;\n  const dilationHeight = convInfo.dilationHeight;\n  const dilationWidth = convInfo.dilationWidth;\n  const strideHeight = convInfo.strideHeight;\n  const strideWidth = convInfo.strideWidth;\n  const inputChannels = convInfo.inChannels;\n  const isSamePad = convInfo.padInfo.type === 'SAME' ? 1 : 0;\n  const batchSize = convInfo.batchSize;\n  const inHeight = convInfo.inHeight;\n  const inWidth = convInfo.inWidth;\n\n  if (convInfo.dataFormat !== 'channelsLast') {\n    throw new Error(\n        `wasm backend FusedDepthwiseConv2D does not support dataFormat:'` +\n        `${convInfo.dataFormat}'. Please use 'channelsLast'.`);\n  }\n\n  const out = backend.makeOutput(convInfo.outShape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  const preluActivationWeightsId = preluActivationWeights == null ?\n      0 :\n      backend.dataIdMap.get(preluActivationWeights.dataId).id;\n  wasmFusedDepthwiseConv2d(\n      xId, batchSize, inHeight, inWidth, filterId, filterHeight, filterWidth,\n      biasId, padTop, padRight, padBottom, padLeft, isSamePad, dilationHeight,\n      dilationWidth, strideHeight, strideWidth, inputChannels, outputChannels,\n      fusedActivation, preluActivationWeightsId, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'FusedDepthwiseConv2D',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: fusedDepthwiseConv2d as {} as KernelFunc\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {CppDType} from './types';\n\ninterface GatherInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n  indices: TensorInfo;\n}\n\ninterface GatherAttrs extends NamedAttrMap {\n  axis: number;\n}\n\nlet wasmGather:\n    (xId: number, dtype: CppDType, xStrides: Uint8Array, stridesSize: number,\n     indicesId: number, axis: number, outStrides: Uint8Array, outId: number) =>\n        void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmGather = backend.wasm.cwrap('Gather', null /*void*/, [\n    'number',  // xId\n    'number',  // dtype\n    'array',   // xStrides\n    'number',  // stridesSize\n    'number',  // indicesId\n    'number',  // axis\n    'array',   // outStrides\n    'number'   // outId\n  ]);\n}\n\nfunction gather(\n    args: {backend: BackendWasm, inputs: GatherInputs, attrs: GatherAttrs}):\n    TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {x, indices} = inputs;\n  const {axis} = attrs;\n\n  const newShape = x.shape.slice();\n  newShape[axis] = util.sizeFromShape(indices.shape);\n  const stridesSize = x.shape.length - 1;\n\n  const out = backend.makeOutput(newShape, x.dtype);\n  if (util.sizeFromShape(x.shape) === 0) {\n    return out;\n  }\n\n  const xData = backend.dataIdMap.get(x.dataId);\n  const xId = xData.id;\n\n  const indicesData = backend.dataIdMap.get(indices.dataId);\n  const indicesId = indicesData.id;\n\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  const xStridesBytes =\n      new Uint8Array(new Int32Array(util.computeStrides(x.shape)).buffer);\n  const outStridesBytes =\n      new Uint8Array(new Int32Array(util.computeStrides(newShape)).buffer);\n\n  wasmGather(\n      xId, CppDType[x.dtype], xStridesBytes, stridesSize, indicesId, axis,\n      outStridesBytes, outId);\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Gather',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: gather\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {gather_util, GatherNd, GatherNdInputs, registerKernel, Tensor, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {CppDType} from './types';\n\nlet wasmGatherNd: (\n    xId: number, dtype: CppDType, indicesId: number, numSlices: number,\n    sliceRank: number, sliceSize: number, strides: Uint8Array, outId: number) =>\n    void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmGatherNd = backend.wasm.cwrap('GatherNd', null /*void*/, [\n    'number',  // xId\n    'number',  // dtype\n    'number',  // indicesId\n    'number',  // numSlices\n    'number',  // sliceRank\n    'number',  // sliceSize\n    'array',   // strides\n    'number'   // outId\n  ]);\n}\n\nfunction gatherNd(args: {backend: BackendWasm, inputs: GatherNdInputs}):\n    TensorInfo {\n  const {backend, inputs} = args;\n  const {params, indices} = inputs;\n\n  const [resultShape, numSlices, sliceSize, strides] =\n      gather_util.prepareAndValidate(params as Tensor, indices as Tensor);\n\n  const out = backend.makeOutput(resultShape, params.dtype);\n  if (numSlices === 0) {\n    return out;\n  }\n\n  const indicesShape = indices.shape;\n  const sliceRank = indicesShape[indicesShape.length - 1];\n\n  const xData = backend.dataIdMap.get(params.dataId);\n  const xId = xData.id;\n  const indicesData = backend.dataIdMap.get(indices.dataId);\n  const indicesId = indicesData.id;\n\n  const stridesBytes = new Uint8Array(new Int32Array(strides).buffer);\n\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmGatherNd(\n      xId, CppDType[params.dtype], indicesId, numSlices, sliceRank, sliceSize,\n      stridesBytes, outId);\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: GatherNd,\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: gatherNd\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('FloorDiv', supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('Greater', supportsFullBroadcast, 'bool');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('GreaterEqual', supportsFullBroadcast, 'bool');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('Less', supportsFullBroadcast, 'bool');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('LessEqual', supportsFullBroadcast, 'bool');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Log');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {CppDType} from './types';\n\ninterface TransposeInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface TransposeAttrs extends NamedAttrMap {\n  perm: number[];\n}\n\nlet wasmTranspose: (\n    xId: number, xShape: Uint8Array, xShapeLength: number, dtype: CppDType,\n    outId: number, perm: Uint8Array, permLength: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmTranspose = backend.wasm.cwrap('Transpose', null /* void */, [\n    'number',  // xId\n    'array',   // x.shape\n    'number',  // x.shape.length\n    'number',  // dtype\n    'number',  // outId\n    'array',   // perm\n    'number',  // perm.length\n  ]);\n}\n\nexport function transpose(\n    args:\n        {inputs: TransposeInputs, backend: BackendWasm, attrs: TransposeAttrs}):\n    TensorInfo {\n  const {inputs, backend, attrs} = args;\n  // Reduce any dimensions with size one. Lower-rank transpose kernel performs\n  // better due to simpler memory access pattern.\n  const [reducedShape, perm] = removeOneSizeDims(inputs.x.shape, attrs.perm);\n  const x = {\n    dataId: inputs.x.dataId,\n    shape: reducedShape,\n    dtype: inputs.x.dtype\n  };\n  let permIsNoOp = true;\n  for (let i = 0; i < perm.length; i++) {\n    if (perm[i] !== i) {\n      permIsNoOp = false;\n    }\n  }\n  const outShape = computeOutShape(inputs.x.shape, attrs.perm);\n  if (permIsNoOp) {\n    return {dataId: x.dataId, shape: outShape, dtype: x.dtype};\n  }\n  const out = backend.makeOutput(outShape, x.dtype);\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  const permBytes = new Uint8Array(new Int32Array(perm).buffer);\n  const xShapeBytes = new Uint8Array(new Int32Array(x.shape).buffer);\n\n  wasmTranspose(\n      xId, xShapeBytes, x.shape.length, CppDType[x.dtype], outId, permBytes,\n      perm.length);\n  return out;\n}\n\nfunction computeOutShape(inShape: number[], perm: number[]): number[] {\n  const outShape = new Array(inShape.length);\n  for (let i = 0; i < outShape.length; i++) {\n    outShape[i] = inShape[perm[i]];\n  }\n  return outShape;\n}\n\nfunction removeOneSizeDims(\n    shape: number[], perm: number[]): [number[], number[]] {\n  const newShape: number[] = [];\n  const newPerm: number[] = [];\n  for (let i = 0; i < shape.length; ++i) {\n    if (shape[i] !== 1) {\n      newShape.push(shape[i]);\n    }\n    if (shape[perm[i]] !== 1) {\n      newPerm.push(perm[i]);\n    }\n  }\n  for (let i = 0; i < newPerm.length; ++i) {\n    let minValIdx = -1;\n    for (let j = 0; j < newPerm.length; ++j) {\n      if (newPerm[j] >= i &&\n          (minValIdx === -1 || newPerm[minValIdx] > newPerm[j])) {\n        minValIdx = j;\n      }\n    }\n    newPerm[minValIdx] = i;\n  }\n  return [newShape, newPerm];\n}\n\nregisterKernel({\n  kernelName: 'Transpose',\n  backendName: 'wasm',\n  kernelFunc: transpose,\n  setupFunc: setup,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\nimport {Max, MaxAttrs, MaxInputs} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {transpose} from './Transpose';\n\nlet wasmMax: (xId: number, reduceSize: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmMax =\n      backend.wasm.cwrap('Max', null /*void*/, ['number, number, number']);\n}\n\nfunction max(args: {backend: BackendWasm, inputs: {}, attrs: {}}): TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {reductionIndices} = attrs as MaxAttrs;\n  const {x} = inputs as MaxInputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n\n  let xShape = x.shape;\n  const xRank = x.shape.length;\n  const xVals = backend.typedArrayFromHeap(x);\n\n  const origAxes = util.parseAxisParam(reductionIndices, xShape);\n  let axes = origAxes;\n  const permutedAxes = backend_util.getAxesPermutation(axes, xRank);\n  const maxInputIsTransposed = permutedAxes != null;\n  if (maxInputIsTransposed) {\n    const newShape: number[] = new Array(xRank);\n    for (let i = 0; i < newShape.length; i++) {\n      newShape[i] = xShape[permutedAxes[i]];\n    }\n\n    axes = backend_util.getInnerMostAxes(axes.length, xRank);\n\n    const xTransposed =\n        transpose({inputs: {x}, attrs: {perm: permutedAxes}, backend});\n\n    if (backend.dataIdMap.get(xTransposed.dataId).id !== xId) {\n      // If perm is not no-op.\n      const xTransposedVals = backend.typedArrayFromHeap(xTransposed);\n      xVals.set(xTransposedVals, 0);\n      backend.disposeData(xTransposed.dataId);\n    }\n    xShape = newShape;\n  }\n\n  backend_util.assertAxesAreInnerMostDims('max', axes, xRank);\n  const [outShape, reduceShape] =\n      backend_util.computeOutAndReduceShapes(xShape, axes);\n  const reduceSize = util.sizeFromShape(reduceShape);\n\n  const out = backend.makeOutput(outShape, x.dtype);\n  if (util.sizeFromShape(xShape) === 0) {\n    return out;\n  }\n\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  wasmMax(xId, reduceSize, outId);\n\n  return out;\n}\n\nregisterKernel(\n    {kernelName: Max, backendName: 'wasm', setupFunc: setup, kernelFunc: max});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('LogicalAnd', supportsFullBroadcast, 'bool');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, KernelFunc, MaxPoolAttrs, MaxPoolInputs, registerKernel, Tensor4D} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nlet wasmMaxPool: (\n    xId: number, batchSize: number, inputHeight: number, inputWidth: number,\n    filterHeight: number, filterWidth: number, padTop: number, padRight: number,\n    padBottom: number, padLeft: number, dilationHeight: number,\n    dilationWidth: number, strideHeight: number, strideWidth: number,\n    inputChannels: number, outputChannels: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmMaxPool = backend.wasm.cwrap('MaxPool', null /* void */, [\n    'number',  // xId\n    'number',  // batchSize\n    'number',  // inputHeight\n    'number',  // inputWidth\n    'number',  // filterHeight\n    'number',  // filterWidth\n    'number',  // padTop\n    'number',  // padRight\n    'number',  // padBottom\n    'number',  // padLeft\n    'number',  // dilationHeight\n    'number',  // dilationWidth\n    'number',  // strideHeight\n    'number',  // strideWidth\n    'number',  // inputChannels\n    'number',  // outputChannels\n    'number',  // outId\n  ]);\n}\n\nfunction maxPool(\n    args: {inputs: MaxPoolInputs, backend: BackendWasm, attrs: MaxPoolAttrs}) {\n  const {inputs, attrs, backend} = args;\n\n  const x = inputs.x as Tensor4D;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n\n  const {filterSize, strides, pad, dimRoundingMode} = attrs;\n  const convInfo = backend_util.computePool2DInfo(\n      x.shape, filterSize, strides, 1 /* dilations */, pad, dimRoundingMode);\n\n  const filterHeight = convInfo.filterHeight;\n  const filterWidth = convInfo.filterWidth;\n  const padTop = convInfo.padInfo.top;\n  const padRight = convInfo.padInfo.right;\n  const padBottom = convInfo.padInfo.bottom;\n  const padLeft = convInfo.padInfo.left;\n  const dilationHeight = convInfo.dilationHeight;\n  const dilationWidth = convInfo.dilationWidth;\n  const strideHeight = convInfo.strideHeight;\n  const strideWidth = convInfo.strideWidth;\n  const inputChannels = convInfo.inChannels;\n  const outputChannels = convInfo.outChannels;\n\n  if (convInfo.dataFormat !== 'channelsLast') {\n    throw new Error(\n        `wasm backend does not support dataFormat:'` +\n        `${convInfo.dataFormat}'. Please use 'channelsLast'.`);\n  }\n\n  const out = backend.makeOutput(convInfo.outShape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  wasmMaxPool(\n      xId, x.shape[0], x.shape[1], x.shape[2], filterHeight, filterWidth,\n      padTop, padRight, padBottom, padLeft, dilationHeight, dilationWidth,\n      strideHeight, strideWidth, inputChannels, outputChannels, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'MaxPool',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: maxPool as {} as KernelFunc\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface MinInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface MinAttrs extends NamedAttrMap {\n  axes: number[];\n}\n\nlet wasmMin: (xId: number, reduceSize: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmMin =\n      backend.wasm.cwrap('Min', null /*void*/, ['number, number, number']);\n}\n\nfunction min(args: {backend: BackendWasm, inputs: MinInputs, attrs: MinAttrs}):\n    TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {axes} = attrs;\n  const {x} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n\n  backend_util.assertAxesAreInnerMostDims('min', axes, x.shape.length);\n  const [outShape, reduceShape] =\n      backend_util.computeOutAndReduceShapes(x.shape, axes);\n  const reduceSize = util.sizeFromShape(reduceShape);\n\n  const out = backend.makeOutput(outShape, x.dtype);\n  if (util.sizeFromShape(x.shape) === 0) {\n    return out;\n  }\n\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  wasmMin(xId, reduceSize, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Min',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: min\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('Maximum', supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('Minimum', supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {BackendWasm} from '../backend_wasm';\n\n// Analogous to `struct Result` in `non_max_suppression_impl.h`.\ninterface Result {\n  pSelectedIndices: number;\n  selectedSize: number;\n  pSelectedScores: number;\n}\n/**\n * Parse the result of the c++ method, which has the shape equivalent to\n * `Result`.\n */\nexport function parseResultStruct(\n    backend: BackendWasm, resOffset: number): Result {\n  const result = new Int32Array(backend.wasm.HEAPU8.buffer, resOffset, 3);\n  const pSelectedIndices = result[0];\n  const selectedSize = result[1];\n  const pSelectedScores = result[2];\n  // Since the result was allocated on the heap, we have to delete it.\n  backend.wasm._free(resOffset);\n  return {pSelectedIndices, selectedSize, pSelectedScores};\n}\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {parseResultStruct} from './NonMaxSuppression_util';\n\ninterface NonMaxSuppressionInputs extends NamedTensorInfoMap {\n  boxes: TensorInfo;\n  scores: TensorInfo;\n}\n\ninterface NonMaxSuppressionAttrs extends NamedAttrMap {\n  maxOutputSize: number;\n  iouThreshold: number;\n  scoreThreshold: number;\n}\n\nlet wasmFunc: (\n    boxesId: number, scoresId: number, maxOutputSize: number,\n    iouThreshold: number, scoreThreshold: number) => number;\n\nfunction setup(backend: BackendWasm): void {\n  wasmFunc = backend.wasm.cwrap(\n      'NonMaxSuppressionV3',\n      'number',  // Result*\n      [\n        'number',  // boxesId\n        'number',  // scoresId\n        'number',  // maxOutputSize\n        'number',  // iouThreshold\n        'number',  // scoreThreshold\n      ]);\n}\n\nfunction kernelFunc(args: {\n  backend: BackendWasm,\n  inputs: NonMaxSuppressionInputs,\n  attrs: NonMaxSuppressionAttrs\n}): TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {iouThreshold, maxOutputSize, scoreThreshold} = attrs;\n  const {boxes, scores} = inputs;\n\n  const boxesId = backend.dataIdMap.get(boxes.dataId).id;\n  const scoresId = backend.dataIdMap.get(scores.dataId).id;\n\n  const resOffset =\n      wasmFunc(boxesId, scoresId, maxOutputSize, iouThreshold, scoreThreshold);\n\n  const {pSelectedIndices, selectedSize, pSelectedScores} =\n      parseResultStruct(backend, resOffset);\n\n  // Since we are not using scores for V3, we have to delete it from the heap.\n  backend.wasm._free(pSelectedScores);\n\n  const selectedIndicesTensor =\n      backend.makeOutput([selectedSize], 'int32', pSelectedIndices);\n\n  return selectedIndicesTensor;\n}\n\nregisterKernel({\n  kernelName: 'NonMaxSuppressionV3',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {parseResultStruct} from './NonMaxSuppression_util';\n\ninterface NonMaxSuppressionInputs extends NamedTensorInfoMap {\n  boxes: TensorInfo;\n  scores: TensorInfo;\n}\n\ninterface NonMaxSuppressionAttrs extends NamedAttrMap {\n  maxOutputSize: number;\n  iouThreshold: number;\n  scoreThreshold: number;\n  softNmsSigma: number;\n}\n\nlet wasmFunc:\n    (boxesId: number, scoresId: number, maxOutputSize: number,\n     iouThreshold: number, scoreThreshold: number, softNmsSigma: number) =>\n        number;\n\nfunction setup(backend: BackendWasm): void {\n  wasmFunc = backend.wasm.cwrap(\n      'NonMaxSuppressionV5',\n      'number',  // Result*\n      [\n        'number',  // boxesId\n        'number',  // scoresId\n        'number',  // maxOutputSize\n        'number',  // iouThreshold\n        'number',  // scoreThreshold\n        'number',  // softNmsSigma\n      ]);\n}\n\nfunction kernelFunc(args: {\n  backend: BackendWasm,\n  inputs: NonMaxSuppressionInputs,\n  attrs: NonMaxSuppressionAttrs\n}): TensorInfo[] {\n  const {backend, inputs, attrs} = args;\n  const {iouThreshold, maxOutputSize, scoreThreshold, softNmsSigma} = attrs;\n  const {boxes, scores} = inputs;\n\n  const boxesId = backend.dataIdMap.get(boxes.dataId).id;\n  const scoresId = backend.dataIdMap.get(scores.dataId).id;\n\n  const resOffset = wasmFunc(\n      boxesId, scoresId, maxOutputSize, iouThreshold, scoreThreshold,\n      softNmsSigma);\n\n  const {\n    pSelectedIndices,\n    selectedSize,\n    pSelectedScores,\n  } = parseResultStruct(backend, resOffset);\n\n  const selectedIndicesTensor =\n      backend.makeOutput([selectedSize], 'int32', pSelectedIndices);\n  const selectedScoresTensor =\n      backend.makeOutput([selectedSize], 'float32', pSelectedScores);\n\n  return [selectedIndicesTensor, selectedScoresTensor];\n}\n\nregisterKernel({\n  kernelName: 'NonMaxSuppressionV5',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {Multiply} from '@tensorflow/tfjs-core';\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = true;\nregisterBinaryKernel(Multiply, supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Neg');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {CppDType} from './types';\n\ninterface PadInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface PadAttrs extends NamedAttrMap {\n  paddings: Array<[number, number]>;\n  constantValue: number;\n}\n\nlet wasmPadV2: (\n    xId: number, xShapeBytes: Uint8Array, xShapeLength: number, xDtype: number,\n    paddingsBytes: Uint8Array, constantValue: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmPadV2 = backend.wasm.cwrap('PadV2', null /* void */, [\n    'number',  // xId\n    'array',   // x.shape\n    'number',  // x.shape.length\n    'number',  // x.dtype\n    'array',   // paddings\n    'number',  // constantValue\n    'number',  // outId\n  ]);\n}\n\nfunction pad(args: {inputs: PadInputs, backend: BackendWasm, attrs: PadAttrs}) {\n  const {inputs: {x}, backend, attrs: {paddings, constantValue}} = args;\n\n  const outShape = paddings.map(\n      (p, i) => p[0] /* beforePad */ + x.shape[i] + p[1] /* afterPad */);\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const out = backend.makeOutput(outShape, x.dtype);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  const xShapeBytes = new Uint8Array(new Int32Array(x.shape).buffer);\n  const paddingsFlat = [].concat(...paddings);\n  const paddingsBytes = new Uint8Array(new Int32Array(paddingsFlat).buffer);\n  wasmPadV2(\n      xId, xShapeBytes, x.shape.length, CppDType[x.dtype], paddingsBytes,\n      constantValue, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'PadV2',\n  backendName: 'wasm',\n  kernelFunc: pad,\n  setupFunc: setup\n});\n","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('NotEqual', supportsFullBroadcast, 'bool');\n","/**\n * @license\n * Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {KernelFunc, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface OnesLikeInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\nfunction onesLike(args: {inputs: OnesLikeInputs, backend: BackendWasm}) {\n  const {inputs: {x}, backend} = args;\n  const out = backend.makeOutput(x.shape, x.dtype);\n  const outVals = backend.typedArrayFromHeap(out);\n  outVals.fill(1);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'OnesLike',\n  backendName: 'wasm',\n  kernelFunc: onesLike as {} as KernelFunc,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedTensorInfoMap, registerKernel} from '@tensorflow/tfjs-core';\nimport {TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface PreluInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n  alpha: TensorInfo;\n}\n\nlet wasmPrelu: (xId: number, weightsId: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmPrelu = backend.wasm.cwrap('Prelu', null /* void */, [\n    'number',  // x_id\n    'number',  // weights_id\n    'number'   // out_id\n  ]);\n}\n\nfunction prelu(args: {inputs: PreluInputs, backend: BackendWasm}) {\n  const {inputs, backend} = args;\n  const {x, alpha} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const weightsId = backend.dataIdMap.get(alpha.dataId).id;\n\n  const out = backend.makeOutput(x.shape, 'float32');\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmPrelu(xId, weightsId, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Prelu',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: prelu\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {cast} from './Cast';\n\ninterface ResizeBilinearInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface ResizeBilinearAttrs extends NamedAttrMap {\n  newWidth: number;\n  newHeight: number;\n  alignCorners: boolean;\n}\n\nlet wasmResizeBilinear: (\n    xId: number, batch: number, oldHeight: number, oldWidth: number,\n    numChannels: number, newHeight: number, newWidth: number,\n    alignCorners: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmResizeBilinear = backend.wasm.cwrap('ResizeBilinear', null /*void*/, [\n    'number',  // xId\n    'number',  // batch\n    'number',  // oldHeight\n    'number',  // oldWidth\n    'number',  // numChannels\n    'number',  // newHeight\n    'number',  // newWidth\n    'number',  // alignCorners\n    'number'   // outId\n  ]);\n}\n\nfunction resizeBilinear(args: {\n  backend: BackendWasm,\n  inputs: ResizeBilinearInputs,\n  attrs: ResizeBilinearAttrs\n}): TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {x} = inputs;\n  const {alignCorners, newHeight, newWidth} = attrs;\n\n  const [batch, oldHeight, oldWidth, numChannels] = x.shape;\n  const outShape = [batch, newHeight, newWidth, numChannels];\n\n  let xData = backend.dataIdMap.get(x.dataId);\n  let castedData;\n  if (xData.dtype !== 'float32') {\n    castedData = cast({backend, inputs: {x}, attrs: {dtype: 'float32'}});\n    xData = backend.dataIdMap.get(castedData.dataId);\n  }\n  const xId = xData.id;\n\n  const out = backend.makeOutput(outShape, 'float32');\n  if (util.sizeFromShape(x.shape) === 0) {\n    return out;\n  }\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  wasmResizeBilinear(\n      xId, batch, oldHeight, oldWidth, numChannels, newHeight, newWidth,\n      alignCorners ? 1 : 0, outId);\n\n  if (castedData != null) {\n    backend.disposeData(castedData.dataId);\n  }\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'ResizeBilinear',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: resizeBilinear\n});\n","/**\n * @license\n * Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedTensorInfoMap, registerKernel, SelectV2, SelectV2Inputs, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nlet wasmSelect: (\n    conditionId: number, tId: number, eId: number, offset: number,\n    outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmSelect = backend.wasm.cwrap(SelectV2, null, [\n    'number',  // conditionId\n    'number',  // tId\n    'number',  // eId\n    'number',  // offset\n    'number',  // outId\n  ]);\n}\n\nfunction select(args: {inputs: NamedTensorInfoMap, backend: BackendWasm}) {\n  const {inputs, backend} = args;\n  const {condition, t, e} = inputs as {} as SelectV2Inputs;\n\n  const conditionId = backend.dataIdMap.get(condition.dataId).id;\n  const tId = backend.dataIdMap.get(t.dataId).id;\n  const eId = backend.dataIdMap.get(e.dataId).id;\n  const out = backend.makeOutput(t.shape, t.dtype);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  const cRank = condition.shape.length;\n  const tRank = t.shape.length;\n\n  const offset = cRank === 0 || cRank > 1 || tRank === 1 ?\n      1 :\n      util.sizeFromShape(t.shape.slice(1));\n\n  wasmSelect(conditionId, tId, eId, offset, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: SelectV2,\n  backendName: 'wasm',\n  kernelFunc: select,\n  setupFunc: setup\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, scatter_util, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {CppDType} from './types';\n\ninterface ScatterNdInputs extends NamedTensorInfoMap {\n  indices: TensorInfo;\n  updates: TensorInfo;\n}\n\ninterface ScatterNdAttrs extends NamedAttrMap {\n  shape: number[];\n}\n\nlet wasmScatterNd: (\n    indicesId: number, updatesId: number, dtype: CppDType, sliceRank: number,\n    numUpdates: number, sliceSize: number, strides: Uint8Array,\n    outputSize: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmScatterNd = backend.wasm.cwrap('ScatterNd', null /*void*/, [\n    'number',  // indicesId\n    'number',  // updatesId\n    'number',  // dtype\n    'number',  // sliceRank\n    'number',  // numUpdates\n    'number',  // sliceSize\n    'array',   // strides\n    'number',  // outputSize\n    'number'   // outId\n  ]);\n}\n\nfunction scatterNd(\n    args:\n        {backend: BackendWasm, inputs: ScatterNdInputs, attrs: ScatterNdAttrs}):\n    TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {indices, updates} = inputs;\n  const {shape} = attrs;\n\n  const out = backend.makeOutput(shape, updates.dtype);\n  if (util.sizeFromShape(shape) === 0) {\n    return out;\n  }\n\n  const {sliceRank, numUpdates, sliceSize, strides, outputSize} =\n      scatter_util.calculateShapes(updates, indices, shape);\n\n  const indicesData = backend.dataIdMap.get(indices.dataId);\n  const indicesId = indicesData.id;\n\n  const updatesData = backend.dataIdMap.get(updates.dataId);\n  const updatesId = updatesData.id;\n\n  const stridesBytes = new Uint8Array(new Int32Array(strides).buffer);\n\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmScatterNd(\n      indicesId, updatesId, CppDType[updates.dtype], sliceRank, numUpdates,\n      sliceSize, stridesBytes, outputSize, outId);\n\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'ScatterNd',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: scatterNd\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface SigmoidInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\nlet wasmFunc: (xId: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmFunc =\n      backend.wasm.cwrap('Sigmoid', null /* void */, ['number', 'number']);\n}\n\nfunction sigmoid(args: {backend: BackendWasm, inputs: SigmoidInputs}):\n    TensorInfo {\n  const {backend, inputs: {x}} = args;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const out = backend.makeOutput(x.shape, x.dtype);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  // Short-circuit zero-sized tensors.\n  if (util.sizeFromShape(out.shape) === 0) {\n    return out;\n  }\n\n  wasmFunc(xId, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Sigmoid',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: sigmoid\n});\n","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface SoftmaxInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface SoftmaxAttrs extends NamedAttrMap {\n  dim: number;\n}\n\nlet wasmFunc: (xId: number, outId: number, channels: number, batch: number) =>\n    void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmFunc = backend.wasm.cwrap('Softmax', null /* void */, [\n    'number',  // xId\n    'number',  // outId\n    'number',  // channels\n    'number'   // batch\n  ]);\n}\n\nfunction softmax(\n    args: {backend: BackendWasm, inputs: SoftmaxInputs, attrs: SoftmaxAttrs}):\n    TensorInfo {\n  const {backend, inputs: {logits}, attrs: {dim}} = args;\n  const xId = backend.dataIdMap.get(logits.dataId).id;\n  const out = backend.makeOutput(logits.shape, logits.dtype);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  const channels = logits.shape[dim];\n  const batch = util.sizeFromShape(logits.shape) / channels;\n\n  // Short-circuit zero-sized tensors.\n  if (util.sizeFromShape(out.shape) === 0) {\n    return out;\n  }\n\n  wasmFunc(xId, outId, channels, batch);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Softmax',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: softmax\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, buffer, NamedAttrMap, NamedTensorInfoMap, registerKernel, slice_util, util} from '@tensorflow/tfjs-core';\nimport {TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface SliceInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface SliceAttrs extends NamedAttrMap {\n  begin: number[];\n  size: number[];\n}\n\nexport function slice(\n    args: {inputs: SliceInputs, attrs: SliceAttrs, backend: BackendWasm}) {\n  const {inputs: {x}, attrs: {begin, size}, backend} = args;\n  const isContinous = slice_util.isSliceContinous(x.shape, begin, size);\n  const xVals = backend.typedArrayFromHeap(x);\n  const out = backend.makeOutput(size, x.dtype);\n  const outVals = backend.typedArrayFromHeap(out);\n  const xStrides = util.computeStrides(x.shape);\n  if (isContinous) {\n    const flatOffset = slice_util.computeFlatOffset(begin, xStrides);\n    outVals.set(\n        xVals.subarray(flatOffset, flatOffset + util.sizeFromShape(size)));\n    return out;\n  }\n  const rank = x.shape.length;\n  if (rank === 2) {\n    slice2d(\n        xVals, xStrides[0], outVals, begin as [number, number],\n        size as [number, number]);\n  } else if (rank === 3) {\n    slice3d(\n        xVals, xStrides[0], xStrides[1], outVals,\n        begin as [number, number, number], size as [number, number, number]);\n  } else if (rank === 4) {\n    slice4d(\n        xVals, xStrides[0], xStrides[1], xStrides[2], outVals,\n        begin as [number, number, number, number],\n        size as [number, number, number, number]);\n  } else {\n    genericSliceSlow(xVals, x, outVals, begin, size);\n  }\n  return out;\n}\n\nfunction slice2d(\n    xVals: backend_util.TypedArray, xStride: number,\n    outVals: backend_util.TypedArray, begin: [number, number],\n    size: [number, number]): void {\n  let outOffset = 0;\n  const beginI = begin[0];\n  const beginJ = begin[1];\n  const endI = beginI + size[0];\n  for (let i = beginI; i < endI; i++) {\n    const xOffset = i * xStride + beginJ;\n    outVals.set(xVals.subarray(xOffset, xOffset + size[1]), outOffset);\n    outOffset += size[1];\n  }\n}\n\nfunction slice3d(\n    xVals: backend_util.TypedArray, xStride1: number, xStride2: number,\n    outVals: backend_util.TypedArray, begin: [number, number, number],\n    size: [number, number, number]): void {\n  let outOffset = 0;\n  const beginI = begin[0];\n  const beginJ = begin[1];\n  const beginK = begin[2];\n  const endI = beginI + size[0];\n  const endJ = beginJ + size[1];\n  for (let i = beginI; i < endI; i++) {\n    for (let j = beginJ; j < endJ; j++) {\n      const xOffset = i * xStride1 + j * xStride2 + beginK;\n      outVals.set(xVals.subarray(xOffset, xOffset + size[2]), outOffset);\n      outOffset += size[2];\n    }\n  }\n}\n\nfunction slice4d(\n    xVals: backend_util.TypedArray, xStride1: number, xStride2: number,\n    xStride3: number, outVals: backend_util.TypedArray,\n    begin: [number, number, number, number],\n    size: [number, number, number, number]): void {\n  let outOffset = 0;\n  const beginI = begin[0];\n  const beginJ = begin[1];\n  const beginK = begin[2];\n  const endI = beginI + size[0];\n  const endJ = beginJ + size[1];\n  const endK = beginK + size[2];\n  const beginL = begin[3];\n\n  for (let i = beginI; i < endI; i++) {\n    for (let j = beginJ; j < endJ; j++) {\n      for (let k = beginK; k < endK; k++) {\n        const xOffset = i * xStride1 + j * xStride2 + k * xStride3 + beginL;\n        outVals.set(xVals.subarray(xOffset, xOffset + size[3]), outOffset);\n        outOffset += size[3];\n      }\n    }\n  }\n}\n\nfunction genericSliceSlow(\n    xVals: backend_util.TypedArray, xInfo: TensorInfo,\n    outVals: backend_util.TypedArray, begin: number[], size: number[]): void {\n  const outBuf = buffer(size, xInfo.dtype, outVals);\n  const xBuf = buffer(xInfo.shape, xInfo.dtype, xVals);\n  for (let i = 0; i < outBuf.size; ++i) {\n    const loc = outBuf.indexToLoc(i);\n    const xLoc = loc.map((idx, j) => idx + begin[j]);\n    outVals[i] = xBuf.get(...xLoc) as number;\n  }\n}\n\nregisterKernel({\n  kernelName: 'Slice',\n  backendName: 'wasm',\n  kernelFunc: slice,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = false;\nregisterBinaryKernel('Pow', supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Relu');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Relu6');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel} from '@tensorflow/tfjs-core';\nimport {TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface ReshapeInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface ReshapeAttrs extends NamedAttrMap {\n  shape: number[];\n}\n\nexport function reshape(\n    args: {inputs: ReshapeInputs, attrs: ReshapeAttrs, backend: BackendWasm}) {\n  const {inputs: {x}, attrs: {shape}} = args;\n  return {dataId: x.dataId, shape, dtype: x.dtype};\n}\n\nregisterKernel({\n  kernelName: 'Reshape',\n  backendName: 'wasm',\n  kernelFunc: reshape,\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Rsqrt');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Sin');\n","/**\n * @license\n * Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, SplitV, SplitVAttrs, SplitVInputs, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\nimport {slice} from './Slice';\n\nexport function split(args: {\n  inputs: NamedTensorInfoMap,\n  attrs: NamedAttrMap,\n  backend: BackendWasm\n}) {\n  const {inputs, attrs, backend} = args;\n  const {x} = inputs as {} as SplitVInputs;\n  const {numOrSizeSplits, axis} = attrs as {} as SplitVAttrs;\n\n  const $axis = util.parseAxisParam(axis, x.shape)[0];\n\n  let splitSizes: number[];\n  if (typeof (numOrSizeSplits) === 'number') {\n    splitSizes =\n        new Array(numOrSizeSplits).fill(x.shape[$axis] / numOrSizeSplits);\n  } else {\n    splitSizes = numOrSizeSplits;\n  }\n\n  const begin = new Array(x.shape.length).fill(0);\n  const size = x.shape.slice();\n  return splitSizes.map(s => {\n    const xSliceSize = [...size];\n    xSliceSize[$axis] = s;\n    const xSlice =\n        slice({inputs: {x}, attrs: {begin, size: xSliceSize}, backend});\n    begin[$axis] += s;\n    return xSlice;\n  });\n}\n\nregisterKernel({kernelName: SplitV, backendName: 'wasm', kernelFunc: split});\n","/**\n * @license\n * Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Sqrt');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Square');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util, NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface SumInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface SumAttrs extends NamedAttrMap {\n  axes: number[];\n}\n\nlet wasmSum: (xId: number, reduceSize: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm): void {\n  wasmSum =\n      backend.wasm.cwrap('Sum', null /*void*/, ['number, number, number']);\n}\n\nfunction sum(args: {backend: BackendWasm, inputs: SumInputs, attrs: SumAttrs}):\n    TensorInfo {\n  const {backend, inputs, attrs} = args;\n  const {axes} = attrs;\n  const {x} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n\n  backend_util.assertAxesAreInnerMostDims('sum', axes, x.shape.length);\n  const [outShape, reduceShape] =\n      backend_util.computeOutAndReduceShapes(x.shape, axes);\n  const reduceSize = util.sizeFromShape(reduceShape);\n\n  const out = backend.makeOutput(outShape, x.dtype);\n  if (util.sizeFromShape(x.shape) === 0) {\n    return out;\n  }\n\n  const outId = backend.dataIdMap.get(out.dataId).id;\n\n  wasmSum(xId, reduceSize, outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Sum',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: sum\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel} from '@tensorflow/tfjs-core';\nimport {TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\nimport {CppDType} from './types';\n\ninterface TileInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface TileAttrs extends NamedAttrMap {\n  reps: number[];\n}\n\nlet wasmTile: (\n    xId: number, xShape: Uint8Array, xShapeSize: number, newShape: Uint8Array,\n    newShapeSize: number, dtype: number, outId: number) => void;\n\nfunction setup(backend: BackendWasm) {\n  wasmTile = backend.wasm.cwrap('Tile', null /* void */, [\n    'number',  // x_id\n    'array',   // x_shape\n    'number',  // x_shape.length\n    'array',   // new_shape\n    'number',  // new_shape.length\n    'number'   // out_id\n  ]);\n}\n\nfunction tile(\n    args: {inputs: TileInputs, backend: BackendWasm, attrs: TileAttrs}) {\n  const {inputs, backend, attrs} = args;\n  const {x} = inputs;\n  const xId = backend.dataIdMap.get(x.dataId).id;\n  const {reps} = attrs;\n\n  const newShape: number[] = new Array(x.shape.length);\n  for (let i = 0; i < newShape.length; i++) {\n    newShape[i] = x.shape[i] * reps[i];\n  }\n  const xShapeBytes = new Uint8Array(new Int32Array(x.shape).buffer);\n  const newShapeBytes = new Uint8Array(new Int32Array(newShape).buffer);\n\n  const out = backend.makeOutput(newShape, x.dtype);\n  const outId = backend.dataIdMap.get(out.dataId).id;\n  wasmTile(\n      xId, xShapeBytes, x.shape.length, newShapeBytes, newShape.length,\n      CppDType[out.dtype], outId);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'Tile',\n  backendName: 'wasm',\n  setupFunc: setup,\n  kernelFunc: tile\n});\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerBinaryKernel} from './binary_kernel';\nconst supportsFullBroadcast = true;\nregisterBinaryKernel('Sub', supportsFullBroadcast);\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {registerUnaryKernel} from './unary_kernel';\nregisterUnaryKernel('Tanh');\n","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {NamedAttrMap, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\nimport {BackendWasm} from '../backend_wasm';\nimport {slice} from './Slice';\n\ninterface UnpackInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\ninterface UnpackAttrs extends NamedAttrMap {\n  axis: number;\n}\n\nfunction unpack(\n    args: {inputs: UnpackInputs, backend: BackendWasm, attrs: UnpackAttrs}):\n    TensorInfo[] {\n  const {inputs: {x}, backend, attrs: {axis}} = args;\n  const numOutputs = x.shape[axis];\n  const rank = x.shape.length;\n  const outShape: number[] = new Array(rank - 1);\n  let outIndex = 0;\n  for (let i = 0; i < rank; i++) {\n    if (i !== axis) {\n      outShape[outIndex++] = x.shape[i];\n    }\n  }\n  const outs: TensorInfo[] = new Array(numOutputs);\n  const begin = new Array(rank).fill(0);\n  const size = x.shape.slice();\n  size[axis] = 1;\n  for (let i = 0; i < outs.length; i++) {\n    begin[axis] = i;\n    outs[i] = slice({inputs: {x}, attrs: {begin, size}, backend});\n  }\n  return outs.map(({dataId, dtype}) => ({dataId, dtype, shape: outShape}));\n}\n\nregisterKernel({\n  kernelName: 'Unpack',\n  backendName: 'wasm',\n  kernelFunc: unpack,\n});\n","/**\n * @license\n * Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {KernelFunc, NamedTensorInfoMap, registerKernel, TensorInfo} from '@tensorflow/tfjs-core';\n\nimport {BackendWasm} from '../backend_wasm';\n\ninterface ZerosLikeInputs extends NamedTensorInfoMap {\n  x: TensorInfo;\n}\n\nfunction zerosLike(args: {inputs: ZerosLikeInputs, backend: BackendWasm}) {\n  const {inputs: {x}, backend} = args;\n  const out = backend.makeOutput(x.shape, x.dtype);\n  const outVals = backend.typedArrayFromHeap(out);\n  outVals.fill(0);\n  return out;\n}\n\nregisterKernel({\n  kernelName: 'ZerosLike',\n  backendName: 'wasm',\n  kernelFunc: zerosLike as {} as KernelFunc,\n});\n","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {env} from '@tensorflow/tfjs-core';\n\nconst ENV = env();\n\n/**\n * True if SIMD is supported.\n */\n// From: https://github.com/GoogleChromeLabs/wasm-feature-detect\nENV.registerFlag(\n    'WASM_HAS_SIMD_SUPPORT', async () => WebAssembly.validate(new Uint8Array([\n      0, 97, 115, 109, 1, 0, 0, 0, 1,  4, 1,   96, 0,  0, 3,\n      2, 1,  0,   10,  9, 1, 7, 0, 65, 0, 253, 15, 26, 11\n    ])));\n","\nvar WasmBackendModuleSimd = (function() {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(WasmBackendModuleSimd) {\n  WasmBackendModuleSimd = WasmBackendModuleSimd || {};\n\nvar Module=typeof WasmBackendModuleSimd!==\"undefined\"?WasmBackendModuleSimd:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram=\"./this.program\";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window===\"object\";ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof process.versions===\"object\"&&typeof process.versions.node===\"string\";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require(\"path\").dirname(scriptDirectory)+\"/\"}else{scriptDirectory=__dirname+\"/\"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);return nodeFS[\"readFileSync\"](filename,binary?null:\"utf8\")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process[\"argv\"].length>1){thisProgram=process[\"argv\"][1].replace(/\\\\/g,\"/\")}arguments_=process[\"argv\"].slice(2);process[\"on\"](\"uncaughtException\",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process[\"on\"](\"unhandledRejection\",abort);quit_=function(status){process[\"exit\"](status)};Module[\"inspect\"]=function(){return\"[Emscripten Module object]\"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!=\"undefined\"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){arguments_=scriptArgs}else if(typeof arguments!=\"undefined\"){arguments_=arguments}if(typeof quit===\"function\"){quit_=function(status){quit(status)}}if(typeof print!==\"undefined\"){if(typeof console===\"undefined\")console={};console.log=print;console.warn=console.error=typeof printErr!==\"undefined\"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf(\"/\")+1)}else{scriptDirectory=\"\"}{read_=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];var noExitRuntime;if(Module[\"noExitRuntime\"])noExitRuntime=Module[\"noExitRuntime\"];if(typeof WebAssembly!==\"object\"){err(\"no native wasm support detected\")}var wasmMemory;var wasmTable=new WebAssembly.Table({\"initial\":108,\"maximum\":108+0,\"element\":\"anyfunc\"});var ABORT=false;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}function getCFunc(ident){var func=Module[\"_\"+ident];assert(func,\"Cannot call unknown function \"+ident+\", make sure it is exported\");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={\"string\":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},\"array\":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType===\"string\")return UTF8ToString(ret);if(returnType===\"boolean\")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}function cwrap(ident,returnType,argTypes,opts){argTypes=argTypes||[];var numericArgs=argTypes.every(function(type){return type===\"number\"});var numericRet=returnType!==\"string\";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return function(){return ccall(ident,returnType,argTypes,arguments,opts)}}var UTF8Decoder=typeof TextDecoder!==\"undefined\"?new TextDecoder(\"utf8\"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str=\"\";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\"}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}var WASM_PAGE_SIZE=65536;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module[\"HEAP8\"]=HEAP8=new Int8Array(buf);Module[\"HEAP16\"]=HEAP16=new Int16Array(buf);Module[\"HEAP32\"]=HEAP32=new Int32Array(buf);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buf);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buf);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buf);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buf);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buf)}var DYNAMIC_BASE=5253952,DYNAMICTOP_PTR=10912;var INITIAL_INITIAL_MEMORY=Module[\"INITIAL_MEMORY\"]||16777216;if(Module[\"wasmMemory\"]){wasmMemory=Module[\"wasmMemory\"]}else{wasmMemory=new WebAssembly.Memory({\"initial\":INITIAL_INITIAL_MEMORY/WASM_PAGE_SIZE,\"maximum\":2147483648/WASM_PAGE_SIZE})}if(wasmMemory){buffer=wasmMemory.buffer}INITIAL_INITIAL_MEMORY=buffer.byteLength;updateGlobalBufferAndViews(buffer);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback(Module);continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){Module[\"dynCall_v\"](func)}else{Module[\"dynCall_vi\"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_ceil=Math.ceil;var Math_floor=Math.floor;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}what+=\"\";out(what);err(what);ABORT=true;EXITSTATUS=1;what=\"abort(\"+what+\"). Build with -s ASSERTIONS=1 for more info.\";throw new WebAssembly.RuntimeError(what)}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix=\"data:application/octet-stream;base64,\";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix=\"file://\";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}var wasmBinaryFile=\"tfjs-backend-wasm-simd.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(){try{if(wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(wasmBinaryFile)}else{throw\"both async and sync fetching of the wasm failed\"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch===\"function\"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\"}return response[\"arrayBuffer\"]()}).catch(function(){return getBinary()})}return new Promise(function(resolve,reject){resolve(getBinary())})}function createWasm(){var info={\"a\":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module[\"asm\"]=exports;removeRunDependency(\"wasm-instantiate\")}addRunDependency(\"wasm-instantiate\");function receiveInstantiatedSource(output){receiveInstance(output[\"instance\"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming===\"function\"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch===\"function\"){fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module[\"instantiateWasm\"]){try{var exports=Module[\"instantiateWasm\"](info,receiveInstance);return exports}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);return false}}instantiateAsync();return{}}__ATINIT__.push({func:function(){___wasm_call_ctors()}});function _abort(){abort()}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function _emscripten_get_heap_size(){return HEAPU8.length}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){requestedSize=requestedSize>>>0;var oldSize=_emscripten_get_heap_size();var PAGE_MULTIPLE=65536;var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){return false}var minHeapSize=16777216;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(minHeapSize,requestedSize,overGrownHeapSize),PAGE_MULTIPLE));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}var PATH={splitPath:function(filename){var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last===\".\"){parts.splice(i,1)}else if(last===\"..\"){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift(\"..\")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)===\"/\",trailingSlash=path.substr(-1)===\"/\";path=PATH.normalizeArray(path.split(\"/\").filter(function(p){return!!p}),!isAbsolute).join(\"/\");if(!path&&!isAbsolute){path=\".\"}if(path&&trailingSlash){path+=\"/\"}return(isAbsolute?\"/\":\"\")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return\".\"}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path===\"/\")return\"/\";var lastSlash=path.lastIndexOf(\"/\");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join(\"/\"))},join2:function(l,r){return PATH.normalize(l+\"/\"+r)}};var SYSCALLS={mappings:{},buffers:[null,[],[]],printChar:function(stream,curr){var buffer=SYSCALLS.buffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}},varargs:undefined,get:function(){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},get64:function(low,high){return low}};function _fd_close(fd){return 0}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){}function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){SYSCALLS.printChar(fd,HEAPU8[ptr+j])}num+=len}HEAP32[pnum>>2]=num;return 0}function _roundf(d){d=+d;return d>=+0?+Math_floor(d+ +.5):+Math_ceil(d-+.5)}var asmLibraryArg={\"a\":_abort,\"e\":_emscripten_memcpy_big,\"f\":_emscripten_resize_heap,\"g\":_fd_close,\"d\":_fd_seek,\"c\":_fd_write,\"memory\":wasmMemory,\"b\":_roundf,\"table\":wasmTable};var asm=createWasm();Module[\"asm\"]=asm;var ___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=function(){return(___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=Module[\"asm\"][\"h\"]).apply(null,arguments)};var _init=Module[\"_init\"]=function(){return(_init=Module[\"_init\"]=Module[\"asm\"][\"i\"]).apply(null,arguments)};var _register_tensor=Module[\"_register_tensor\"]=function(){return(_register_tensor=Module[\"_register_tensor\"]=Module[\"asm\"][\"j\"]).apply(null,arguments)};var _dispose_data=Module[\"_dispose_data\"]=function(){return(_dispose_data=Module[\"_dispose_data\"]=Module[\"asm\"][\"k\"]).apply(null,arguments)};var _dispose=Module[\"_dispose\"]=function(){return(_dispose=Module[\"_dispose\"]=Module[\"asm\"][\"l\"]).apply(null,arguments)};var _Abs=Module[\"_Abs\"]=function(){return(_Abs=Module[\"_Abs\"]=Module[\"asm\"][\"m\"]).apply(null,arguments)};var _Add=Module[\"_Add\"]=function(){return(_Add=Module[\"_Add\"]=Module[\"asm\"][\"n\"]).apply(null,arguments)};var _AddN=Module[\"_AddN\"]=function(){return(_AddN=Module[\"_AddN\"]=Module[\"asm\"][\"o\"]).apply(null,arguments)};var _ArgMax=Module[\"_ArgMax\"]=function(){return(_ArgMax=Module[\"_ArgMax\"]=Module[\"asm\"][\"p\"]).apply(null,arguments)};var _AvgPool=Module[\"_AvgPool\"]=function(){return(_AvgPool=Module[\"_AvgPool\"]=Module[\"asm\"][\"q\"]).apply(null,arguments)};var _BatchMatMul=Module[\"_BatchMatMul\"]=function(){return(_BatchMatMul=Module[\"_BatchMatMul\"]=Module[\"asm\"][\"r\"]).apply(null,arguments)};var _ClipByValue=Module[\"_ClipByValue\"]=function(){return(_ClipByValue=Module[\"_ClipByValue\"]=Module[\"asm\"][\"s\"]).apply(null,arguments)};var _Conv2D=Module[\"_Conv2D\"]=function(){return(_Conv2D=Module[\"_Conv2D\"]=Module[\"asm\"][\"t\"]).apply(null,arguments)};var _Cos=Module[\"_Cos\"]=function(){return(_Cos=Module[\"_Cos\"]=Module[\"asm\"][\"u\"]).apply(null,arguments)};var _CropAndResize=Module[\"_CropAndResize\"]=function(){return(_CropAndResize=Module[\"_CropAndResize\"]=Module[\"asm\"][\"v\"]).apply(null,arguments)};var _DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=function(){return(_DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=Module[\"asm\"][\"w\"]).apply(null,arguments)};var _Div=Module[\"_Div\"]=function(){return(_Div=Module[\"_Div\"]=Module[\"asm\"][\"x\"]).apply(null,arguments)};var _Exp=Module[\"_Exp\"]=function(){return(_Exp=Module[\"_Exp\"]=Module[\"asm\"][\"y\"]).apply(null,arguments)};var _FloorDiv=Module[\"_FloorDiv\"]=function(){return(_FloorDiv=Module[\"_FloorDiv\"]=Module[\"asm\"][\"z\"]).apply(null,arguments)};var _FusedBatchNorm=Module[\"_FusedBatchNorm\"]=function(){return(_FusedBatchNorm=Module[\"_FusedBatchNorm\"]=Module[\"asm\"][\"A\"]).apply(null,arguments)};var _FusedConv2D=Module[\"_FusedConv2D\"]=function(){return(_FusedConv2D=Module[\"_FusedConv2D\"]=Module[\"asm\"][\"B\"]).apply(null,arguments)};var _FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=function(){return(_FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=Module[\"asm\"][\"C\"]).apply(null,arguments)};var _Gather=Module[\"_Gather\"]=function(){return(_Gather=Module[\"_Gather\"]=Module[\"asm\"][\"D\"]).apply(null,arguments)};var _GatherNd=Module[\"_GatherNd\"]=function(){return(_GatherNd=Module[\"_GatherNd\"]=Module[\"asm\"][\"E\"]).apply(null,arguments)};var _Greater=Module[\"_Greater\"]=function(){return(_Greater=Module[\"_Greater\"]=Module[\"asm\"][\"F\"]).apply(null,arguments)};var _GreaterEqual=Module[\"_GreaterEqual\"]=function(){return(_GreaterEqual=Module[\"_GreaterEqual\"]=Module[\"asm\"][\"G\"]).apply(null,arguments)};var _Less=Module[\"_Less\"]=function(){return(_Less=Module[\"_Less\"]=Module[\"asm\"][\"H\"]).apply(null,arguments)};var _LessEqual=Module[\"_LessEqual\"]=function(){return(_LessEqual=Module[\"_LessEqual\"]=Module[\"asm\"][\"I\"]).apply(null,arguments)};var _Log=Module[\"_Log\"]=function(){return(_Log=Module[\"_Log\"]=Module[\"asm\"][\"J\"]).apply(null,arguments)};var _LogicalAnd=Module[\"_LogicalAnd\"]=function(){return(_LogicalAnd=Module[\"_LogicalAnd\"]=Module[\"asm\"][\"K\"]).apply(null,arguments)};var _Max=Module[\"_Max\"]=function(){return(_Max=Module[\"_Max\"]=Module[\"asm\"][\"L\"]).apply(null,arguments)};var _MaxPool=Module[\"_MaxPool\"]=function(){return(_MaxPool=Module[\"_MaxPool\"]=Module[\"asm\"][\"M\"]).apply(null,arguments)};var _Maximum=Module[\"_Maximum\"]=function(){return(_Maximum=Module[\"_Maximum\"]=Module[\"asm\"][\"N\"]).apply(null,arguments)};var _Min=Module[\"_Min\"]=function(){return(_Min=Module[\"_Min\"]=Module[\"asm\"][\"O\"]).apply(null,arguments)};var _Minimum=Module[\"_Minimum\"]=function(){return(_Minimum=Module[\"_Minimum\"]=Module[\"asm\"][\"P\"]).apply(null,arguments)};var _Multiply=Module[\"_Multiply\"]=function(){return(_Multiply=Module[\"_Multiply\"]=Module[\"asm\"][\"Q\"]).apply(null,arguments)};var _Neg=Module[\"_Neg\"]=function(){return(_Neg=Module[\"_Neg\"]=Module[\"asm\"][\"R\"]).apply(null,arguments)};var _NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=function(){return(_NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=Module[\"asm\"][\"S\"]).apply(null,arguments)};var _NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=function(){return(_NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=Module[\"asm\"][\"T\"]).apply(null,arguments)};var _NotEqual=Module[\"_NotEqual\"]=function(){return(_NotEqual=Module[\"_NotEqual\"]=Module[\"asm\"][\"U\"]).apply(null,arguments)};var _PadV2=Module[\"_PadV2\"]=function(){return(_PadV2=Module[\"_PadV2\"]=Module[\"asm\"][\"V\"]).apply(null,arguments)};var _Pow=Module[\"_Pow\"]=function(){return(_Pow=Module[\"_Pow\"]=Module[\"asm\"][\"W\"]).apply(null,arguments)};var _Prelu=Module[\"_Prelu\"]=function(){return(_Prelu=Module[\"_Prelu\"]=Module[\"asm\"][\"X\"]).apply(null,arguments)};var _Relu=Module[\"_Relu\"]=function(){return(_Relu=Module[\"_Relu\"]=Module[\"asm\"][\"Y\"]).apply(null,arguments)};var _Relu6=Module[\"_Relu6\"]=function(){return(_Relu6=Module[\"_Relu6\"]=Module[\"asm\"][\"Z\"]).apply(null,arguments)};var _ResizeBilinear=Module[\"_ResizeBilinear\"]=function(){return(_ResizeBilinear=Module[\"_ResizeBilinear\"]=Module[\"asm\"][\"_\"]).apply(null,arguments)};var _Rsqrt=Module[\"_Rsqrt\"]=function(){return(_Rsqrt=Module[\"_Rsqrt\"]=Module[\"asm\"][\"$\"]).apply(null,arguments)};var _ScatterNd=Module[\"_ScatterNd\"]=function(){return(_ScatterNd=Module[\"_ScatterNd\"]=Module[\"asm\"][\"aa\"]).apply(null,arguments)};var _SelectV2=Module[\"_SelectV2\"]=function(){return(_SelectV2=Module[\"_SelectV2\"]=Module[\"asm\"][\"ba\"]).apply(null,arguments)};var _Sigmoid=Module[\"_Sigmoid\"]=function(){return(_Sigmoid=Module[\"_Sigmoid\"]=Module[\"asm\"][\"ca\"]).apply(null,arguments)};var _Sin=Module[\"_Sin\"]=function(){return(_Sin=Module[\"_Sin\"]=Module[\"asm\"][\"da\"]).apply(null,arguments)};var _Softmax=Module[\"_Softmax\"]=function(){return(_Softmax=Module[\"_Softmax\"]=Module[\"asm\"][\"ea\"]).apply(null,arguments)};var _Sqrt=Module[\"_Sqrt\"]=function(){return(_Sqrt=Module[\"_Sqrt\"]=Module[\"asm\"][\"fa\"]).apply(null,arguments)};var _Square=Module[\"_Square\"]=function(){return(_Square=Module[\"_Square\"]=Module[\"asm\"][\"ga\"]).apply(null,arguments)};var _Sub=Module[\"_Sub\"]=function(){return(_Sub=Module[\"_Sub\"]=Module[\"asm\"][\"ha\"]).apply(null,arguments)};var _Sum=Module[\"_Sum\"]=function(){return(_Sum=Module[\"_Sum\"]=Module[\"asm\"][\"ia\"]).apply(null,arguments)};var _Tanh=Module[\"_Tanh\"]=function(){return(_Tanh=Module[\"_Tanh\"]=Module[\"asm\"][\"ja\"]).apply(null,arguments)};var _Tile=Module[\"_Tile\"]=function(){return(_Tile=Module[\"_Tile\"]=Module[\"asm\"][\"ka\"]).apply(null,arguments)};var _Transpose=Module[\"_Transpose\"]=function(){return(_Transpose=Module[\"_Transpose\"]=Module[\"asm\"][\"la\"]).apply(null,arguments)};var __FusedMatMul=Module[\"__FusedMatMul\"]=function(){return(__FusedMatMul=Module[\"__FusedMatMul\"]=Module[\"asm\"][\"ma\"]).apply(null,arguments)};var _malloc=Module[\"_malloc\"]=function(){return(_malloc=Module[\"_malloc\"]=Module[\"asm\"][\"na\"]).apply(null,arguments)};var _free=Module[\"_free\"]=function(){return(_free=Module[\"_free\"]=Module[\"asm\"][\"oa\"]).apply(null,arguments)};var stackSave=Module[\"stackSave\"]=function(){return(stackSave=Module[\"stackSave\"]=Module[\"asm\"][\"pa\"]).apply(null,arguments)};var stackAlloc=Module[\"stackAlloc\"]=function(){return(stackAlloc=Module[\"stackAlloc\"]=Module[\"asm\"][\"qa\"]).apply(null,arguments)};var stackRestore=Module[\"stackRestore\"]=function(){return(stackRestore=Module[\"stackRestore\"]=Module[\"asm\"][\"ra\"]).apply(null,arguments)};var dynCall_vi=Module[\"dynCall_vi\"]=function(){return(dynCall_vi=Module[\"dynCall_vi\"]=Module[\"asm\"][\"sa\"]).apply(null,arguments)};var dynCall_v=Module[\"dynCall_v\"]=function(){return(dynCall_v=Module[\"dynCall_v\"]=Module[\"asm\"][\"ta\"]).apply(null,arguments)};Module[\"asm\"]=asm;Module[\"cwrap\"]=cwrap;var calledRun;Module[\"then\"]=function(func){if(calledRun){func(Module)}else{var old=Module[\"onRuntimeInitialized\"];Module[\"onRuntimeInitialized\"]=function(){if(old)old();func(Module)}}return Module};function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0)return;function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();preMain();if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}Module[\"run\"]=run;if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}noExitRuntime=true;run();\n\n\n  return WasmBackendModuleSimd\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n      module.exports = WasmBackendModuleSimd;\n    else if (typeof define === 'function' && define['amd'])\n      define([], function() { return WasmBackendModuleSimd; });\n    else if (typeof exports === 'object')\n      exports[\"WasmBackendModuleSimd\"] = WasmBackendModuleSimd;\n    ","\nvar WasmBackendModule = (function() {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(WasmBackendModule) {\n  WasmBackendModule = WasmBackendModule || {};\n\nvar Module=typeof WasmBackendModule!==\"undefined\"?WasmBackendModule:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram=\"./this.program\";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window===\"object\";ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof process.versions===\"object\"&&typeof process.versions.node===\"string\";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require(\"path\").dirname(scriptDirectory)+\"/\"}else{scriptDirectory=__dirname+\"/\"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);return nodeFS[\"readFileSync\"](filename,binary?null:\"utf8\")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process[\"argv\"].length>1){thisProgram=process[\"argv\"][1].replace(/\\\\/g,\"/\")}arguments_=process[\"argv\"].slice(2);process[\"on\"](\"uncaughtException\",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process[\"on\"](\"unhandledRejection\",abort);quit_=function(status){process[\"exit\"](status)};Module[\"inspect\"]=function(){return\"[Emscripten Module object]\"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!=\"undefined\"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){arguments_=scriptArgs}else if(typeof arguments!=\"undefined\"){arguments_=arguments}if(typeof quit===\"function\"){quit_=function(status){quit(status)}}if(typeof print!==\"undefined\"){if(typeof console===\"undefined\")console={};console.log=print;console.warn=console.error=typeof printErr!==\"undefined\"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf(\"/\")+1)}else{scriptDirectory=\"\"}{read_=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];var noExitRuntime;if(Module[\"noExitRuntime\"])noExitRuntime=Module[\"noExitRuntime\"];if(typeof WebAssembly!==\"object\"){err(\"no native wasm support detected\")}var wasmMemory;var wasmTable=new WebAssembly.Table({\"initial\":124,\"maximum\":124+0,\"element\":\"anyfunc\"});var ABORT=false;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}function getCFunc(ident){var func=Module[\"_\"+ident];assert(func,\"Cannot call unknown function \"+ident+\", make sure it is exported\");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={\"string\":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},\"array\":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType===\"string\")return UTF8ToString(ret);if(returnType===\"boolean\")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}function cwrap(ident,returnType,argTypes,opts){argTypes=argTypes||[];var numericArgs=argTypes.every(function(type){return type===\"number\"});var numericRet=returnType!==\"string\";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return function(){return ccall(ident,returnType,argTypes,arguments,opts)}}var UTF8Decoder=typeof TextDecoder!==\"undefined\"?new TextDecoder(\"utf8\"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str=\"\";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\"}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}var WASM_PAGE_SIZE=65536;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module[\"HEAP8\"]=HEAP8=new Int8Array(buf);Module[\"HEAP16\"]=HEAP16=new Int16Array(buf);Module[\"HEAP32\"]=HEAP32=new Int32Array(buf);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buf);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buf);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buf);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buf);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buf)}var DYNAMIC_BASE=5254224,DYNAMICTOP_PTR=11184;var INITIAL_INITIAL_MEMORY=Module[\"INITIAL_MEMORY\"]||16777216;if(Module[\"wasmMemory\"]){wasmMemory=Module[\"wasmMemory\"]}else{wasmMemory=new WebAssembly.Memory({\"initial\":INITIAL_INITIAL_MEMORY/WASM_PAGE_SIZE,\"maximum\":2147483648/WASM_PAGE_SIZE})}if(wasmMemory){buffer=wasmMemory.buffer}INITIAL_INITIAL_MEMORY=buffer.byteLength;updateGlobalBufferAndViews(buffer);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback(Module);continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){Module[\"dynCall_v\"](func)}else{Module[\"dynCall_vi\"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_ceil=Math.ceil;var Math_floor=Math.floor;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}what+=\"\";out(what);err(what);ABORT=true;EXITSTATUS=1;what=\"abort(\"+what+\"). Build with -s ASSERTIONS=1 for more info.\";throw new WebAssembly.RuntimeError(what)}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix=\"data:application/octet-stream;base64,\";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix=\"file://\";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}var wasmBinaryFile=\"tfjs-backend-wasm.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(){try{if(wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(wasmBinaryFile)}else{throw\"both async and sync fetching of the wasm failed\"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch===\"function\"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\"}return response[\"arrayBuffer\"]()}).catch(function(){return getBinary()})}return new Promise(function(resolve,reject){resolve(getBinary())})}function createWasm(){var info={\"a\":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module[\"asm\"]=exports;removeRunDependency(\"wasm-instantiate\")}addRunDependency(\"wasm-instantiate\");function receiveInstantiatedSource(output){receiveInstance(output[\"instance\"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming===\"function\"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch===\"function\"){fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module[\"instantiateWasm\"]){try{var exports=Module[\"instantiateWasm\"](info,receiveInstance);return exports}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);return false}}instantiateAsync();return{}}__ATINIT__.push({func:function(){___wasm_call_ctors()}});function _abort(){abort()}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function _emscripten_get_heap_size(){return HEAPU8.length}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){requestedSize=requestedSize>>>0;var oldSize=_emscripten_get_heap_size();var PAGE_MULTIPLE=65536;var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){return false}var minHeapSize=16777216;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(minHeapSize,requestedSize,overGrownHeapSize),PAGE_MULTIPLE));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}var PATH={splitPath:function(filename){var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last===\".\"){parts.splice(i,1)}else if(last===\"..\"){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift(\"..\")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)===\"/\",trailingSlash=path.substr(-1)===\"/\";path=PATH.normalizeArray(path.split(\"/\").filter(function(p){return!!p}),!isAbsolute).join(\"/\");if(!path&&!isAbsolute){path=\".\"}if(path&&trailingSlash){path+=\"/\"}return(isAbsolute?\"/\":\"\")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return\".\"}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path===\"/\")return\"/\";var lastSlash=path.lastIndexOf(\"/\");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join(\"/\"))},join2:function(l,r){return PATH.normalize(l+\"/\"+r)}};var SYSCALLS={mappings:{},buffers:[null,[],[]],printChar:function(stream,curr){var buffer=SYSCALLS.buffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}},varargs:undefined,get:function(){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},get64:function(low,high){return low}};function _fd_close(fd){return 0}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){}function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){SYSCALLS.printChar(fd,HEAPU8[ptr+j])}num+=len}HEAP32[pnum>>2]=num;return 0}function _roundf(d){d=+d;return d>=+0?+Math_floor(d+ +.5):+Math_ceil(d-+.5)}var asmLibraryArg={\"a\":_abort,\"e\":_emscripten_memcpy_big,\"f\":_emscripten_resize_heap,\"g\":_fd_close,\"d\":_fd_seek,\"c\":_fd_write,\"memory\":wasmMemory,\"b\":_roundf,\"table\":wasmTable};var asm=createWasm();Module[\"asm\"]=asm;var ___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=function(){return(___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=Module[\"asm\"][\"h\"]).apply(null,arguments)};var _init=Module[\"_init\"]=function(){return(_init=Module[\"_init\"]=Module[\"asm\"][\"i\"]).apply(null,arguments)};var _register_tensor=Module[\"_register_tensor\"]=function(){return(_register_tensor=Module[\"_register_tensor\"]=Module[\"asm\"][\"j\"]).apply(null,arguments)};var _dispose_data=Module[\"_dispose_data\"]=function(){return(_dispose_data=Module[\"_dispose_data\"]=Module[\"asm\"][\"k\"]).apply(null,arguments)};var _dispose=Module[\"_dispose\"]=function(){return(_dispose=Module[\"_dispose\"]=Module[\"asm\"][\"l\"]).apply(null,arguments)};var _Abs=Module[\"_Abs\"]=function(){return(_Abs=Module[\"_Abs\"]=Module[\"asm\"][\"m\"]).apply(null,arguments)};var _Add=Module[\"_Add\"]=function(){return(_Add=Module[\"_Add\"]=Module[\"asm\"][\"n\"]).apply(null,arguments)};var _AddN=Module[\"_AddN\"]=function(){return(_AddN=Module[\"_AddN\"]=Module[\"asm\"][\"o\"]).apply(null,arguments)};var _ArgMax=Module[\"_ArgMax\"]=function(){return(_ArgMax=Module[\"_ArgMax\"]=Module[\"asm\"][\"p\"]).apply(null,arguments)};var _AvgPool=Module[\"_AvgPool\"]=function(){return(_AvgPool=Module[\"_AvgPool\"]=Module[\"asm\"][\"q\"]).apply(null,arguments)};var _BatchMatMul=Module[\"_BatchMatMul\"]=function(){return(_BatchMatMul=Module[\"_BatchMatMul\"]=Module[\"asm\"][\"r\"]).apply(null,arguments)};var _ClipByValue=Module[\"_ClipByValue\"]=function(){return(_ClipByValue=Module[\"_ClipByValue\"]=Module[\"asm\"][\"s\"]).apply(null,arguments)};var _Conv2D=Module[\"_Conv2D\"]=function(){return(_Conv2D=Module[\"_Conv2D\"]=Module[\"asm\"][\"t\"]).apply(null,arguments)};var _Cos=Module[\"_Cos\"]=function(){return(_Cos=Module[\"_Cos\"]=Module[\"asm\"][\"u\"]).apply(null,arguments)};var _CropAndResize=Module[\"_CropAndResize\"]=function(){return(_CropAndResize=Module[\"_CropAndResize\"]=Module[\"asm\"][\"v\"]).apply(null,arguments)};var _DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=function(){return(_DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=Module[\"asm\"][\"w\"]).apply(null,arguments)};var _Div=Module[\"_Div\"]=function(){return(_Div=Module[\"_Div\"]=Module[\"asm\"][\"x\"]).apply(null,arguments)};var _Exp=Module[\"_Exp\"]=function(){return(_Exp=Module[\"_Exp\"]=Module[\"asm\"][\"y\"]).apply(null,arguments)};var _FloorDiv=Module[\"_FloorDiv\"]=function(){return(_FloorDiv=Module[\"_FloorDiv\"]=Module[\"asm\"][\"z\"]).apply(null,arguments)};var _FusedBatchNorm=Module[\"_FusedBatchNorm\"]=function(){return(_FusedBatchNorm=Module[\"_FusedBatchNorm\"]=Module[\"asm\"][\"A\"]).apply(null,arguments)};var _FusedConv2D=Module[\"_FusedConv2D\"]=function(){return(_FusedConv2D=Module[\"_FusedConv2D\"]=Module[\"asm\"][\"B\"]).apply(null,arguments)};var _FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=function(){return(_FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=Module[\"asm\"][\"C\"]).apply(null,arguments)};var _Gather=Module[\"_Gather\"]=function(){return(_Gather=Module[\"_Gather\"]=Module[\"asm\"][\"D\"]).apply(null,arguments)};var _GatherNd=Module[\"_GatherNd\"]=function(){return(_GatherNd=Module[\"_GatherNd\"]=Module[\"asm\"][\"E\"]).apply(null,arguments)};var _Greater=Module[\"_Greater\"]=function(){return(_Greater=Module[\"_Greater\"]=Module[\"asm\"][\"F\"]).apply(null,arguments)};var _GreaterEqual=Module[\"_GreaterEqual\"]=function(){return(_GreaterEqual=Module[\"_GreaterEqual\"]=Module[\"asm\"][\"G\"]).apply(null,arguments)};var _Less=Module[\"_Less\"]=function(){return(_Less=Module[\"_Less\"]=Module[\"asm\"][\"H\"]).apply(null,arguments)};var _LessEqual=Module[\"_LessEqual\"]=function(){return(_LessEqual=Module[\"_LessEqual\"]=Module[\"asm\"][\"I\"]).apply(null,arguments)};var _Log=Module[\"_Log\"]=function(){return(_Log=Module[\"_Log\"]=Module[\"asm\"][\"J\"]).apply(null,arguments)};var _LogicalAnd=Module[\"_LogicalAnd\"]=function(){return(_LogicalAnd=Module[\"_LogicalAnd\"]=Module[\"asm\"][\"K\"]).apply(null,arguments)};var _Max=Module[\"_Max\"]=function(){return(_Max=Module[\"_Max\"]=Module[\"asm\"][\"L\"]).apply(null,arguments)};var _MaxPool=Module[\"_MaxPool\"]=function(){return(_MaxPool=Module[\"_MaxPool\"]=Module[\"asm\"][\"M\"]).apply(null,arguments)};var _Maximum=Module[\"_Maximum\"]=function(){return(_Maximum=Module[\"_Maximum\"]=Module[\"asm\"][\"N\"]).apply(null,arguments)};var _Min=Module[\"_Min\"]=function(){return(_Min=Module[\"_Min\"]=Module[\"asm\"][\"O\"]).apply(null,arguments)};var _Minimum=Module[\"_Minimum\"]=function(){return(_Minimum=Module[\"_Minimum\"]=Module[\"asm\"][\"P\"]).apply(null,arguments)};var _Multiply=Module[\"_Multiply\"]=function(){return(_Multiply=Module[\"_Multiply\"]=Module[\"asm\"][\"Q\"]).apply(null,arguments)};var _Neg=Module[\"_Neg\"]=function(){return(_Neg=Module[\"_Neg\"]=Module[\"asm\"][\"R\"]).apply(null,arguments)};var _NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=function(){return(_NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=Module[\"asm\"][\"S\"]).apply(null,arguments)};var _NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=function(){return(_NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=Module[\"asm\"][\"T\"]).apply(null,arguments)};var _NotEqual=Module[\"_NotEqual\"]=function(){return(_NotEqual=Module[\"_NotEqual\"]=Module[\"asm\"][\"U\"]).apply(null,arguments)};var _PadV2=Module[\"_PadV2\"]=function(){return(_PadV2=Module[\"_PadV2\"]=Module[\"asm\"][\"V\"]).apply(null,arguments)};var _Pow=Module[\"_Pow\"]=function(){return(_Pow=Module[\"_Pow\"]=Module[\"asm\"][\"W\"]).apply(null,arguments)};var _Prelu=Module[\"_Prelu\"]=function(){return(_Prelu=Module[\"_Prelu\"]=Module[\"asm\"][\"X\"]).apply(null,arguments)};var _Relu=Module[\"_Relu\"]=function(){return(_Relu=Module[\"_Relu\"]=Module[\"asm\"][\"Y\"]).apply(null,arguments)};var _Relu6=Module[\"_Relu6\"]=function(){return(_Relu6=Module[\"_Relu6\"]=Module[\"asm\"][\"Z\"]).apply(null,arguments)};var _ResizeBilinear=Module[\"_ResizeBilinear\"]=function(){return(_ResizeBilinear=Module[\"_ResizeBilinear\"]=Module[\"asm\"][\"_\"]).apply(null,arguments)};var _Rsqrt=Module[\"_Rsqrt\"]=function(){return(_Rsqrt=Module[\"_Rsqrt\"]=Module[\"asm\"][\"$\"]).apply(null,arguments)};var _ScatterNd=Module[\"_ScatterNd\"]=function(){return(_ScatterNd=Module[\"_ScatterNd\"]=Module[\"asm\"][\"aa\"]).apply(null,arguments)};var _SelectV2=Module[\"_SelectV2\"]=function(){return(_SelectV2=Module[\"_SelectV2\"]=Module[\"asm\"][\"ba\"]).apply(null,arguments)};var _Sigmoid=Module[\"_Sigmoid\"]=function(){return(_Sigmoid=Module[\"_Sigmoid\"]=Module[\"asm\"][\"ca\"]).apply(null,arguments)};var _Sin=Module[\"_Sin\"]=function(){return(_Sin=Module[\"_Sin\"]=Module[\"asm\"][\"da\"]).apply(null,arguments)};var _Softmax=Module[\"_Softmax\"]=function(){return(_Softmax=Module[\"_Softmax\"]=Module[\"asm\"][\"ea\"]).apply(null,arguments)};var _Sqrt=Module[\"_Sqrt\"]=function(){return(_Sqrt=Module[\"_Sqrt\"]=Module[\"asm\"][\"fa\"]).apply(null,arguments)};var _Square=Module[\"_Square\"]=function(){return(_Square=Module[\"_Square\"]=Module[\"asm\"][\"ga\"]).apply(null,arguments)};var _Sub=Module[\"_Sub\"]=function(){return(_Sub=Module[\"_Sub\"]=Module[\"asm\"][\"ha\"]).apply(null,arguments)};var _Sum=Module[\"_Sum\"]=function(){return(_Sum=Module[\"_Sum\"]=Module[\"asm\"][\"ia\"]).apply(null,arguments)};var _Tanh=Module[\"_Tanh\"]=function(){return(_Tanh=Module[\"_Tanh\"]=Module[\"asm\"][\"ja\"]).apply(null,arguments)};var _Tile=Module[\"_Tile\"]=function(){return(_Tile=Module[\"_Tile\"]=Module[\"asm\"][\"ka\"]).apply(null,arguments)};var _Transpose=Module[\"_Transpose\"]=function(){return(_Transpose=Module[\"_Transpose\"]=Module[\"asm\"][\"la\"]).apply(null,arguments)};var __FusedMatMul=Module[\"__FusedMatMul\"]=function(){return(__FusedMatMul=Module[\"__FusedMatMul\"]=Module[\"asm\"][\"ma\"]).apply(null,arguments)};var _malloc=Module[\"_malloc\"]=function(){return(_malloc=Module[\"_malloc\"]=Module[\"asm\"][\"na\"]).apply(null,arguments)};var _free=Module[\"_free\"]=function(){return(_free=Module[\"_free\"]=Module[\"asm\"][\"oa\"]).apply(null,arguments)};var stackSave=Module[\"stackSave\"]=function(){return(stackSave=Module[\"stackSave\"]=Module[\"asm\"][\"pa\"]).apply(null,arguments)};var stackAlloc=Module[\"stackAlloc\"]=function(){return(stackAlloc=Module[\"stackAlloc\"]=Module[\"asm\"][\"qa\"]).apply(null,arguments)};var stackRestore=Module[\"stackRestore\"]=function(){return(stackRestore=Module[\"stackRestore\"]=Module[\"asm\"][\"ra\"]).apply(null,arguments)};var dynCall_vi=Module[\"dynCall_vi\"]=function(){return(dynCall_vi=Module[\"dynCall_vi\"]=Module[\"asm\"][\"sa\"]).apply(null,arguments)};var dynCall_v=Module[\"dynCall_v\"]=function(){return(dynCall_v=Module[\"dynCall_v\"]=Module[\"asm\"][\"ta\"]).apply(null,arguments)};Module[\"asm\"]=asm;Module[\"cwrap\"]=cwrap;var calledRun;Module[\"then\"]=function(func){if(calledRun){func(Module)}else{var old=Module[\"onRuntimeInitialized\"];Module[\"onRuntimeInitialized\"]=function(){if(old)old();func(Module)}}return Module};function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0)return;function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();preMain();if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}Module[\"run\"]=run;if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}noExitRuntime=true;run();\n\n\n  return WasmBackendModule\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n      module.exports = WasmBackendModule;\n    else if (typeof define === 'function' && define['amd'])\n      define([], function() { return WasmBackendModule; });\n    else if (typeof exports === 'object')\n      exports[\"WasmBackendModule\"] = WasmBackendModule;\n    ","/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport './flags_wasm';\n\nimport {backend_util, BackendTimingInfo, DataStorage, DataType, engine, env, KernelBackend, registerBackend, TensorInfo, util} from '@tensorflow/tfjs-core';\n\nimport {BackendWasmModule, WasmFactoryConfig} from '../wasm-out/tfjs-backend-wasm';\nimport wasmFactorySimd from '../wasm-out/tfjs-backend-wasm-simd.js';\nimport wasmFactory from '../wasm-out/tfjs-backend-wasm.js';\n\nconst WASM_PRIORITY = 2;\n\ninterface TensorData {\n  id: number;\n  memoryOffset: number;\n  shape: number[];\n  dtype: DataType;\n  /** Only used for string tensors, storing encoded bytes. */\n  stringBytes?: Uint8Array[];\n}\n\nexport type DataId = object;  // object instead of {} to force non-primitive.\n\nexport class BackendWasm extends KernelBackend {\n  // 0 is reserved for null data ids.\n  private dataIdNextNumber = 1;\n  dataIdMap: DataStorage<TensorData>;\n\n  constructor(public wasm: BackendWasmModule) {\n    super();\n    this.wasm.tfjs.init();\n    this.dataIdMap = new DataStorage(this, engine());\n  }\n\n  write(values: backend_util.BackendValues, shape: number[], dtype: DataType):\n      DataId {\n    const dataId = {};\n    this.move(dataId, values, shape, dtype);\n    return dataId;\n  }\n\n  numDataIds(): number {\n    return this.dataIdMap.numDataIds();\n  }\n\n  async time(f: () => void): Promise<BackendTimingInfo> {\n    const start = util.now();\n    f();\n    const kernelMs = util.now() - start;\n    return {kernelMs};\n  }\n\n  move(\n      dataId: DataId, values: backend_util.BackendValues, shape: number[],\n      dtype: DataType): void {\n    const id = this.dataIdNextNumber++;\n    if (dtype === 'string') {\n      const stringBytes = values as Uint8Array[];\n      this.dataIdMap.set(\n          dataId, {id, stringBytes, shape, dtype, memoryOffset: null});\n      return;\n    }\n\n    const size = util.sizeFromShape(shape);\n    const numBytes = size * util.bytesPerElement(dtype);\n    const memoryOffset = this.wasm._malloc(numBytes);\n\n    this.dataIdMap.set(dataId, {id, memoryOffset, shape, dtype});\n\n    this.wasm.tfjs.registerTensor(id, size, memoryOffset);\n\n    if (values != null) {\n      this.wasm.HEAPU8.set(\n          new Uint8Array(\n              (values as backend_util.TypedArray).buffer,\n              (values as backend_util.TypedArray).byteOffset, numBytes),\n          memoryOffset);\n    }\n  }\n\n  async read(dataId: DataId): Promise<backend_util.BackendValues> {\n    return this.readSync(dataId);\n  }\n\n  readSync(dataId: DataId): backend_util.BackendValues {\n    const {memoryOffset, dtype, shape, stringBytes} =\n        this.dataIdMap.get(dataId);\n    if (dtype === 'string') {\n      return stringBytes;\n    }\n    const bytes = this.wasm.HEAPU8.slice(\n        memoryOffset,\n        memoryOffset + util.sizeFromShape(shape) * util.bytesPerElement(dtype));\n    return typedArrayFromBuffer(bytes.buffer, dtype);\n  }\n\n  disposeData(dataId: DataId) {\n    const data = this.dataIdMap.get(dataId);\n    this.wasm._free(data.memoryOffset);\n    this.wasm.tfjs.disposeData(data.id);\n    this.dataIdMap.delete(dataId);\n  }\n\n  floatPrecision(): 32 {\n    return 32;\n  }\n\n  // Returns the memory offset of a tensor. Useful for debugging and unit\n  // testing.\n  getMemoryOffset(dataId: DataId): number {\n    return this.dataIdMap.get(dataId).memoryOffset;\n  }\n\n  dispose() {\n    this.wasm.tfjs.dispose();\n    this.wasm = null;\n  }\n\n  memory() {\n    return {unreliable: false};\n  }\n\n  /**\n   * Make a tensor info for the output of an op. If `memoryOffset` is not\n   * present, this method allocates memory on the WASM heap. If `memoryOffset`\n   * is present, the memory was allocated elsewhere (in c++) and we just record\n   * the pointer where that memory lives.\n   */\n  makeOutput(shape: number[], dtype: DataType, memoryOffset?: number):\n      TensorInfo {\n    let dataId: {};\n    if (memoryOffset == null) {\n      dataId = this.write(null /* values */, shape, dtype);\n    } else {\n      dataId = {};\n      const id = this.dataIdNextNumber++;\n      this.dataIdMap.set(dataId, {id, memoryOffset, shape, dtype});\n      const size = util.sizeFromShape(shape);\n      this.wasm.tfjs.registerTensor(id, size, memoryOffset);\n    }\n    return {dataId, shape, dtype};\n  }\n\n  typedArrayFromHeap({shape, dtype, dataId}: TensorInfo):\n      backend_util.TypedArray {\n    const buffer = this.wasm.HEAPU8.buffer;\n    const {memoryOffset} = this.dataIdMap.get(dataId);\n    const size = util.sizeFromShape(shape);\n    switch (dtype) {\n      case 'float32':\n        return new Float32Array(buffer, memoryOffset, size);\n      case 'int32':\n        return new Int32Array(buffer, memoryOffset, size);\n      case 'bool':\n        return new Uint8Array(buffer, memoryOffset, size);\n      default:\n        throw new Error(`Uknown dtype ${dtype}`);\n    }\n  }\n}\n\nregisterBackend('wasm', async () => {\n  const {wasm} = await init();\n  return new BackendWasm(wasm);\n}, WASM_PRIORITY);\n\nfunction createInstantiateWasmFunc(path: string) {\n  // tslint:disable-next-line:no-any\n  return (imports: any, callback: any) => {\n    util.fetch(path, {credentials: 'same-origin'}).then((response) => {\n      if (!response['ok']) {\n        imports.env.a(`failed to load wasm binary file at '${path}'`);\n      }\n      response.arrayBuffer().then(binary => {\n        WebAssembly.instantiate(binary, imports).then(output => {\n          callback(output.instance);\n        });\n      });\n    });\n    return {};\n  };\n}\n\n/**\n * Initializes the wasm module and creates the js <--> wasm bridge.\n *\n * NOTE: We wrap the wasm module in a object with property 'wasm' instead of\n * returning Promise<BackendWasmModule> to avoid freezing Chrome (last tested\n * in Chrome 76).\n */\nexport async function init(): Promise<{wasm: BackendWasmModule}> {\n  const simdSupported = await env().getAsync('WASM_HAS_SIMD_SUPPORT');\n  return new Promise((resolve, reject) => {\n    const factoryConfig: WasmFactoryConfig = {};\n    if (wasmPath != null) {\n      factoryConfig.locateFile = (path, prefix) => {\n        if (path.endsWith('.wasm')) {\n          return wasmPath;\n        }\n        return prefix + path;\n      };\n      // use wasm instantiateWasm override when system fetch is not available.\n      // For detail references\n      // https://github.com/emscripten-core/emscripten/blob/2bca083cbbd5a4133db61fbd74d04f7feecfa907/tests/manual_wasm_instantiate.html#L170\n      if (customFetch) {\n        factoryConfig.instantiateWasm = createInstantiateWasmFunc(wasmPath);\n      }\n    }\n    const wasm = simdSupported ? wasmFactorySimd(factoryConfig) :\n                                 wasmFactory(factoryConfig);\n    const voidReturnType: string = null;\n    // Using the tfjs namespace to avoid conflict with emscripten's API.\n    wasm.tfjs = {\n      init: wasm.cwrap('init', null, []),\n      registerTensor: wasm.cwrap(\n          'register_tensor', null,\n          [\n            'number',  // id\n            'number',  // size\n            'number',  // memoryOffset\n          ]),\n      disposeData: wasm.cwrap('dispose_data', voidReturnType, ['number']),\n      dispose: wasm.cwrap('dispose', voidReturnType, []),\n    };\n    let initialized = false;\n    wasm.onRuntimeInitialized = () => {\n      initialized = true;\n      initAborted = false;\n      resolve({wasm});\n    };\n    wasm.onAbort = () => {\n      if (initialized) {\n        // Emscripten already called console.warn so no need to double log.\n        return;\n      }\n      if (initAborted) {\n        // Emscripten calls `onAbort` twice, resulting in double error\n        // messages.\n        return;\n      }\n      initAborted = true;\n      const rejectMsg =\n          'Make sure the server can serve the `.wasm` file relative to the ' +\n          'bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers';\n      reject({message: rejectMsg});\n    };\n  });\n}\n\nfunction typedArrayFromBuffer(\n    buffer: ArrayBuffer, dtype: DataType): backend_util.TypedArray {\n  switch (dtype) {\n    case 'float32':\n      return new Float32Array(buffer);\n    case 'int32':\n      return new Int32Array(buffer);\n    case 'bool':\n      return new Uint8Array(buffer);\n    default:\n      throw new Error(`Unknown dtype ${dtype}`);\n  }\n}\n\nlet wasmPath: string = null;\nlet initAborted = false;\nlet customFetch = false;\n/**\n * Sets the path to the `.wasm` file which will be fetched when the wasm\n * backend is initialized. See\n * https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers\n * for more details.\n * @param path wasm file path or url\n * @param usePlatformFetch optional boolean to use platform fetch to download\n *     the wasm file, default to false.\n */\n/** @doc {heading: 'Environment', namespace: 'wasm'} */\nexport function setWasmPath(path: string, usePlatformFetch = false): void {\n  if (initAborted) {\n    throw new Error(\n        'The WASM backend was already initialized. Make sure you call ' +\n        '`setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`');\n  }\n  wasmPath = path;\n  customFetch = usePlatformFetch;\n}\n\n/** Used in unit tests. */\nexport function resetWasmPath(): void {\n  wasmPath = null;\n  customFetch = false;\n  initAborted = false;\n}\n","/** @license See the LICENSE file. */\n\n// This code is auto-generated, do not modify this file!\nconst version = '2.0.1';\nexport {version};\n"],"names":["CppDType","FusableActivation","wasmFusedMatMul","registerUnaryKernel","kernelName","wasmFunc","registerKernel","backendName","setupFunc","backend","wasm","cwrap","kernelFunc","args","inputs","x","xId","dataIdMap","get","dataId","id","out","makeOutput","shape","dtype","outId","util","sizeFromShape","registerBinaryKernel","supportsFullBroadcast","a","b","aId","bId","outputType","newShape","backend_util","assertAndGetBroadcastShape","aShapeBytes","Uint8Array","Int32Array","buffer","bShapeBytes","length","aBroadcastDims","getBroadcastDims","bBroadcastDims","loopsOverAllOfA","every","v","i","loopsOverAllOfB","Error","attrs","bias","preluActivationWeights","transposeA","transposeB","activation","biasId","biasData","preluActivationWeightsId","fusedActivation","leftDim","rightDim","batchDim","wasmAvgPool","wasmBatchMatMul","wasmClip","wasmConv2d","cast","inVals","typedArrayFromHeap","set","InterpolationMethod","wasmCropAndResize","wasmDepthwiseConv2d","inputIds","map","inputIdsBytes","axis","outShape","slice","outerSize","innerSize","filterSize","strides","pad","dimRoundingMode","convInfo","computePool2DInfo","filterHeight","filterWidth","padTop","padInfo","top","padRight","right","padBottom","bottom","padLeft","left","strideHeight","strideWidth","channels","inChannels","dataFormat","dilationWidth","dilationHeight","min","max","parseAxisParam","computeOutShape","t","sumInnerDims","innerDims","input","innerDim","outVals","outOffset","inOffset","vals","subarray","filter","filterId","dilations","$dataFormat","convertConv2DDataFormat","computeConv2DInfo","inputChannels","outputChannels","outChannels","isSamePad","type","method","extrapolationValue","cropSize","images","boxes","boxInd","numBoxes","cropHeight","cropWidth","castedData","imagesData","imagesId","boxesId","boxIndId","imagesShapeBytes","disposeData","$dilations","Fill","value","fill","wasmBatchNorm","wasmFusedConv2d","wasmFusedDepthwiseConv2d","wasmGather","wasmGatherNd","varianceEpsilon","mean","variance","offset","scale","meanId","varianceId","offsetId","scaleId","batchSize","inHeight","inWidth","indices","stridesSize","indicesId","xStridesBytes","computeStrides","outStridesBytes","GatherNd","params","resultShape","numSlices","sliceSize","gather_util","prepareAndValidate","indicesShape","sliceRank","stridesBytes","wasmTranspose","wasmMax","transpose","reducedShape","perm","newPerm","push","minValIdx","j","removeOneSizeDims","permIsNoOp","inShape","Array","permBytes","xShapeBytes","Max","reductionIndices","xShape","xRank","xVals","axes","permutedAxes","getAxesPermutation","getInnerMostAxes","xTransposed","xTransposedVals","assertAxesAreInnerMostDims","reduceShape","computeOutAndReduceShapes","reduceSize","wasmMaxPool","wasmMin","parseResultStruct","resOffset","result","HEAPU8","pSelectedIndices","selectedSize","pSelectedScores","_free","Multiply","iouThreshold","maxOutputSize","scoreThreshold","scores","scoresId","softNmsSigma","wasmPadV2","paddings","constantValue","p","paddingsFlat","concat","paddingsBytes","wasmPrelu","wasmResizeBilinear","wasmSelect","wasmScatterNd","begin","size","isContinous","slice_util","isSliceContinous","xStrides","flatOffset","computeFlatOffset","rank","xStride","beginI","beginJ","endI","xOffset","slice2d","xStride1","xStride2","beginK","endJ","slice3d","xStride3","endK","beginL","k","slice4d","xInfo","outBuf","xBuf","xLoc","indexToLoc","idx","genericSliceSlow","alpha","weightsId","alignCorners","newHeight","newWidth","batch","oldHeight","oldWidth","numChannels","xData","SelectV2","condition","e","conditionId","tId","eId","cRank","tRank","updates","numUpdates","outputSize","scatter_util","calculateShapes","updatesId","logits","dim","SplitV","numOrSizeSplits","$axis","splitSizes","s","xSliceSize","xSlice","wasmSum","wasmTile","reps","newShapeBytes","numOutputs","outIndex","outs","env","registerFlag","async","WebAssembly","validate","_scriptDir","WasmBackendModuleSimd","document","currentScript","src","undefined","__filename","key","Module","moduleOverrides","hasOwnProperty","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","ENVIRONMENT_IS_NODE","ENVIRONMENT_IS_SHELL","window","importScripts","process","versions","node","read_","readBinary","nodeFS","nodePath","scriptDirectory","locateFile","path","require$$0","dirname","__dirname","filename","binary","require$$1","ret","assert","replace","ex","ExitStatus","abort","read","f","data","readbuffer","scriptArgs","print","console","log","warn","error","printErr","self","location","href","indexOf","substr","lastIndexOf","url","xhr","XMLHttpRequest","open","send","responseText","responseType","response","wasmBinary","wasmMemory","bind","err","wasmTable","Table","initial","maximum","element","ABORT","text","getCFunc","ident","func","ccall","returnType","argTypes","opts","toC","string","str","len","stringToUTF8","stackAlloc","array","arr","writeArrayToMemory","cArgs","stack","converter","stackSave","apply","UTF8ToString","Boolean","convertReturnValue","stackRestore","numericArgs","arguments","UTF8Decoder","TextDecoder","UTF8ArrayToString","heap","maxBytesToRead","endIdx","endPtr","decode","u0","u1","u2","String","fromCharCode","ch","ptr","stringToUTF8Array","outIdx","maxBytesToWrite","startIdx","u","charCodeAt","outPtr","HEAP8","HEAP32","WASM_PAGE_SIZE","alignUp","multiple","updateGlobalBufferAndViews","buf","Int8Array","Int16Array","Uint16Array","Uint32Array","Float32Array","Float64Array","DYNAMIC_BASE","DYNAMICTOP_PTR","INITIAL_INITIAL_MEMORY","callRuntimeCallbacks","callbacks","callback","shift","arg","Memory","byteLength","__ATPRERUN__","__ATINIT__","__ATMAIN__","__ATPOSTRUN__","preRun","addOnPreRun","initRuntime","preMain","postRun","addOnPostRun","cb","unshift","Math_ceil","Math","ceil","Math_floor","floor","runDependencies","runDependencyWatcher","dependenciesFulfilled","addRunDependency","removeRunDependency","clearInterval","what","RuntimeError","hasPrefix","prefix","prototype","startsWith","dataURIPrefix","isDataURI","fileURIPrefix","isFileURI","wasmBinaryFile","getBinary","getBinaryPromise","fetch","Promise","resolve","reject","credentials","then","catch","createWasm","info","asmLibraryArg","receiveInstance","instance","module","exports","receiveInstantiatedSource","output","instantiateArrayBuffer","receiver","instantiate","reason","instantiateStreaming","instantiateAsync","_abort","_emscripten_memcpy_big","dest","num","copyWithin","_emscripten_get_heap_size","emscripten_realloc_buffer","grow","_emscripten_resize_heap","requestedSize","oldSize","cutDown","overGrownHeapSize","___wasm_call_ctors","SYSCALLS","mappings","buffers","printChar","stream","curr","varargs","getStr","get64","low","high","_fd_close","fd","_fd_seek","offset_low","offset_high","whence","newOffset","_fd_write","iov","iovcnt","pnum","_roundf","d","g","c","memory","table","asm","calledRun","status","this","name","message","run","doRun","setTimeout","old","runCaller","pop","WasmBackendModule","BackendWasm","KernelBackend","[object Object]","super","tfjs","init","DataStorage","engine","values","move","numDataIds","start","now","kernelMs","dataIdNextNumber","stringBytes","memoryOffset","numBytes","bytesPerElement","_malloc","registerTensor","byteOffset","readSync","typedArrayFromBuffer","delete","dispose","unreliable","write","simdSupported","getAsync","factoryConfig","wasmPath","endsWith","customFetch","instantiateWasm","imports","arrayBuffer","createInstantiateWasmFunc","wasmFactorySimd","wasmFactory","initialized","onRuntimeInitialized","initAborted","onAbort","usePlatformFetch"],"mappings":"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"}